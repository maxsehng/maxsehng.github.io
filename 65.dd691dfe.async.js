(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[65],{zrSJ:function(e,t,a){"use strict";var l=a("mZ4U");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("SMEU");var n=l(a("xc0u"));a("26gd");var i=l(a("1GiV")),r=l(a("cO38")),u=v(a("xwgP")),d=a("8ur3"),o=l(a("3pbE")),c=a("kn+J"),s=l(a("N1TV"));function f(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(f=function(e){return e?a:t})(e)}function v(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=f(t);if(a&&a.has(e))return a.get(e);var l={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var r=n?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(l,i,r):l[i]=e[i]}return l.default=e,a&&a.set(e,l),l}function m(e){var t=(0,u.useState)(""),a=(0,r.default)(t,2),l=a[0],d=a[1],f=(0,u.useState)(!0),v=(0,r.default)(f,2),m=v[0],p=v[1],y=(0,u.useState)(""),w=(0,r.default)(y,2),h=w[0],g=w[1],b=[{name:"\u6c47\u603b",value:"liveall",id:1},{name:"HDMI1",value:"live1",id:2},{name:"HDMI2",value:"live2",id:3},{name:"HDMI3/VGA1",value:"live3",id:4},{name:"HDMI4/VGA2",value:"live4",id:5},{name:"IPC1",value:"live5",id:6},{name:"IPC2",value:"live6",id:7},{name:"IPC3",value:"live7",id:8},{name:"IPC4",value:"live8",id:9}],j=e=>{p(!1),d(e),p(!1),(0,c.startVideo)({sn:h,channel:e}).then(t=>{if(t.success){(0,s.default)("/js/jswebrtc.min.js",()=>{P(t.result)});setInterval(()=>{(0,c.playingNotify)({sn:h,channel:e})},2e4)}else i.default.error(t.message)})};(0,u.useEffect)(()=>{g(e.history.location.query.sn)},[]),(0,u.useEffect)(()=>{h&&j(b[0].value)},[h]);var P=e=>{var t=document.getElementById("video-webrtc");(0,s.default)("/js/jswebrtc.min.js",()=>{new JSWebrtc.Player(e,{video:t,autoplay:!0,onPlay:e=>{console.log("start play")}})})};return u.default.createElement(u.default.Fragment,null,u.default.createElement("div",{className:"checkVideo"},u.default.createElement("div",{style:{width:100,display:"inline-flex",flexDirection:"column",justifyContent:"flex-start",position:"absolute",height:"95vh"}},b.map(e=>{return u.default.createElement(n.default,{key:e.id,type:l===e.value?"primary":"default",style:{margin:10,width:150},onClick:()=>{j(e.value)}},e.name)})),u.default.createElement("div",{style:{width:"calc(100vw - 100)",display:"inline-block"}},m?u.default.createElement("img",{src:o.default,style:{width:"90vw",height:"95vh",backgroundSize:"contain",marginLeft:100},alt:""}):u.default.createElement("video",{style:{width:"85vw",height:"98vh",marginLeft:200},id:"video-webrtc",autoPlay:"autoplay",controls:!0}))))}var p=(0,d.connect)()(m);t.default=p}}]);