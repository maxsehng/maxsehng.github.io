(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[75],{mhSS:function(t,e,r){"use strict";var n=r("mZ4U");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=d(r("xwgP")),i=r("8ur3"),a=r("pG04"),s=n(r("4zaf"));function c(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,r=new WeakMap;return(c=function(t){return t?r:e})(t)}function d(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==typeof t&&"function"!==typeof t)return{default:t};var r=c(e);if(r&&r.has(t))return r.get(t);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if("default"!==i&&Object.prototype.hasOwnProperty.call(t,i)){var a=o?Object.getOwnPropertyDescriptor(t,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=t[i]}return n.default=t,r&&r.set(t,n),n}class l extends o.Component{constructor(t){var e;super(t),e=this,this.filterItems=(()=>{var t=this.props.netSwitchRecord.date;return[{text:"\u8bbe\u5907\u5e8f\u5217\u53f7",name:"sn",type:"input"},{text:"\u65f6\u95f4",name:"date",value:t,type:"daterange"}]}),this.refersh=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,o=e.props.dispatch;o({type:"netSwitchRecord/fetch",payload:{filter:t,pageNo:r,pageSize:n}})},this.hideExportModal=(()=>{this.setState({exportVisible:!1})}),this.showExportModal=(()=>{this.setState({exportVisible:!0})}),this.logsExport=(t=>{var e=this.props.netSwitchRecord.filter,r=e&&e.sn?e.sn:"",n=e&&e.start?e.start:"",o=e&&e.end?e.end:"";window.open("/netSwitchRecord/export?sn=".concat(r,"&start=").concat(n,"&end=").concat(o,"&fileType=").concat(t.fileType))}),this.state={exportVisible:!1},this.columns=[{title:"\u8bbe\u5907\u5e8f\u5217\u53f7",dataIndex:"sn"},{title:"\u5207\u6362\u4e4b\u524d",dataIndex:"origin",render:(t,e)=>{return t?t===e.slotOneIccid?"".concat(t,"\uff08\u5361\u69fd1\uff09"):t===e.slotTwoIccid?"".concat(t,"\uff08\u5361\u69fd2\uff09"):t:t}},{title:"\u5207\u6362\u4e4b\u540e",dataIndex:"current",render:(t,e)=>{return t?t===e.slotOneIccid?"".concat(t,"\uff08\u5361\u69fd1\uff09"):t===e.slotTwoIccid?"".concat(t,"\uff08\u5361\u69fd2\uff09"):t:t}},{title:"\u539f\u56e0",dataIndex:"causeStr"},{title:"\u5207\u6362\u65f6\u95f4",dataIndex:"switchAt"}]}render(){var t=this.props,e=t.loading,r=t.netSwitchRecord,n=this.state.exportVisible;return o.default.createElement("div",null,o.default.createElement(a.Grid,{formprop:{initNums:2},filterItems:this.filterItems(),columns:this.columns,loading:e,data:r,refersh:this.refersh,toolBtns:[{icon:"download",text:"\u65e5\u5fd7\u5bfc\u51fa",handler:this.showExportModal}]}),o.default.createElement(s.default,{visible:n,title:"\u65e5\u5fd7\u5bfc\u51fa",onCancel:this.hideExportModal,onSubmit:this.logsExport}))}}function p(t){var e=t.netSwitchRecord,r=t.loading;return{netSwitchRecord:e,loading:r.models.netSwitchRecord}}var u=(0,i.connect)(p)(l);e.default=u}}]);