(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[33],{OIuc:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAYCAYAAAAPtVbGAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ1IDc5LjE2MzQ5OSwgMjAxOC8wOC8xMy0xNjo0MDoyMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjU3QTFGOUFGMzY0QzExRTk5OTc0ODcwODk3REEzQzdBIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjU3QTFGOUIwMzY0QzExRTk5OTc0ODcwODk3REEzQzdBIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NTdBMUY5QUQzNjRDMTFFOTk5NzQ4NzA4OTdEQTNDN0EiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NTdBMUY5QUUzNjRDMTFFOTk5NzQ4NzA4OTdEQTNDN0EiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6HoIQwAAAB7ElEQVR42qSWzStEURjG7zVXjVFSM7FRzMpHmVJIsVBKssB/oBQJCwsrG9nIfzCKTLNTrHxEbH2bUgixQE3ZmNKoUSYznqNnNHO7595j7lu/puae93nOved9zzn6Vyyg2UQp6AMDoA3UgkrwDl7ABdgCuyAtE9ElJjoYBnOgTnOOZzAPoiBrflhikeAHeyCiaKBxXIR5fieTGnAIerXiQuQdUcfSxAd2QIPmLuqp47MyWQQhSeICuAOvikYh6hWYNIIJm6RLEAfb4EDRaIK6fybTwCMZnALl4Bh0gxWwBjbBmY2Jh7q/JoIhh15J0yjJ5HZ+kqjD2wwKfYNNVuVg8gn6WXmrwKv4yapBq2Gz2PkxyU4fK6LaQoZV81hEj4uSDhg2DzNgHDzZjLkHjyAIliQ7iC5MEhKBGFhWmGmcv6NcX3O8CZMbSfIJf8UilzkYiU3xVGJyY3DGojQrTA9f2eklCm+T5fZvjg+hb7AHNsCIacA3mP3HAs9Y/Lcu9HPnSRO4MnV9mp8yo2CgU8NrmqRoj9tcdd2CMJgyNWGLi9INU7fgZPRx8Zo193ENOrjvFSxqilvHvUuDB+qkZCejqPkusF+kgcjrzOsd6Rmf4A1lhBcElXjheJH3pnpbkV2JguynJCdwrnIl+hFgAD0laqdv2bLGAAAAAElFTkSuQmCC"},"gJb+":function(e,t,a){"use strict";var i=a("mZ4U");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=A(a("xwgP"));a("exa0");var r=i(a("KiF4"));a("0rfI");var n=i(a("vyZY"));a("SMEU");var s=i(a("xc0u"));a("26gd");var d=i(a("1GiV")),c=a("8ur3"),o=i(a("Dtsi")),u=a("pG04"),p=i(a("guZp")),h=i(a("WFXV")),m=i(a("VDAU")),f=i(a("GnJS")),g=i(a("OIuc"));function v(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(v=function(e){return e?a:t})(e)}function A(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=v(t);if(a&&a.has(e))return a.get(e);var i={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var n=l?Object.getOwnPropertyDescriptor(e,r):null;n&&(n.get||n.set)?Object.defineProperty(i,r,n):i[r]=e[r]}return i.default=e,a&&a.set(e,i),i}class y extends l.Component{constructor(e){var t;super(e),t=this,this.filterQuery=(e=>{var t=this.props.dispatch,a=this.state.selectRow;this.setState({cleanInput:!1}),t({type:"record/devList",payload:{filter:{sn:e.sn},id:a.id}})}),this.getFilterItems=(()=>{return[{text:"\u5212\u5206\u4eba",name:"userId",component:l.default.createElement(p.default,{dataUrl:"/user/list?pageNo=1&pageSize=1000000",textName:"realName",valueName:"id",searchName:"realName",width:200})},{text:"\u5ba2\u6237",name:"companyId",component:l.default.createElement(p.default,{dataUrl:"/company/list?pageNo=1&pageSize=1000000",textName:"name",valueName:"id",searchName:"name",width:200})}]}),this.cancel=(e=>{var t=this.props.dispatch;t({type:"record/devList",payload:{id:e.id}}),this.setState({selectRow:e,cancelShow:!0})}),this.close=(()=>{this.setState({selectRow:null,cancelShow:!1,selectArr:[],cleanInput:!1})}),this.addSn=(e=>{var t=this.props,a=t.dispatch,i=t.record,l=this.state,r=l.selectArr,n=l.selectRow;if(e.state){var s=r.findIndex(t=>t===e.sn);s>=0?r.splice(s,1):r.push(e.sn),i.devListFilter&&i.devListFilter.sn&&(a({type:"record/devList",payload:{id:n.id}}),this.setState({cleanInput:!0})),this.setState({selectArr:r})}}),this.getOneSn=(e=>{var t=this.state.selectArr;return l.default.createElement("div",{style:{display:"flex",flexDirection:"row",flexWrap:"wrap"}},e.map((e,a)=>{var i=t.find(t=>t===e.sn);return l.default.createElement("div",{onClick:()=>this.addSn(e),key:"".concat(e.sn).concat(a),style:{display:"flex",flexDirection:"column",justifyContent:"center",marginRight:20,marginBottom:15,cursor:"pointer"}},i?l.default.createElement("img",{src:m.default,alt:"",style:{width:40,height:40}}):e.state?l.default.createElement("img",{src:f.default,alt:"",style:{width:40,height:40}}):l.default.createElement("img",{src:g.default,alt:"",style:{width:40,height:40}}),l.default.createElement("span",{style:{marginTop:5,fontSize:8,color:"#7498fb",transform:"scale(0.8)",textAlign:"center"}},e.sn))}))}),this.cancelDivide=(()=>{var e=this.state,t=e.selectArr,a=e.selectRow,i=this.props.dispatch;if(t.length<=0)d.default.warn("\u8bf7\u9009\u62e9\u8bbe\u5907");else{var l=t.toString(),r=a.id,n=a.companyId;this.setState({selectArr:[]}),i({type:"record/cancelDivide",payload:{devs:l,id:r,companyId:n}})}}),this.getModal=(()=>{var e=this.props,t=e.record,a=(e.app.user,this.state),i=a.cleanInput,r=a.selectArr;return l.default.createElement("div",{style:{position:"relative",height:550}},l.default.createElement(h.default,{filterQuery:this.filterQuery,cleanInput:i}),l.default.createElement(n.default,{title:"\u786e\u8ba4\u64a4\u9500\u5212\u5206\uff1f",onConfirm:this.cancelDivide},l.default.createElement(s.default,{disabled:0===r.length,type:"primary",style:{display:2==sessionStorage.getItem("roleId")?"none":"",position:"absolute",top:0,right:0}},"\u64a4\u9500\u5212\u5206")),l.default.createElement("div",{id:"devList",style:{marginTop:40,height:460,overflow:"auto"}},this.getOneSn(t.devList)))}),this.refersh=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0,l=t.props.dispatch;l({type:"record/fetch",payload:{filter:e,pageNo:a,pageSize:i}})},this.state={cancelShow:!1,selectRow:null,selectArr:[],cleanInput:!1},this.columns=[{title:"\u5212\u5206\u4eba",dataIndex:"realName"},{title:"\u5ba2\u6237\u540d",dataIndex:"companyName"},{title:"\u8bbe\u5907\u6570\u91cf",dataIndex:"num"},{title:"\u65f6\u95f4",dataIndex:"createAt"},{title:"\u64cd\u4f5c",render:(e,t)=>{return l.default.createElement("a",{onClick:()=>this.cancel(t)},"\u67e5\u770b\u8bbe\u5907")}}]}render(){var e=this.props,t=e.loading,a=e.record,i=this.state.cancelShow;return l.default.createElement("div",{style:{position:"relative"}},l.default.createElement(o.default,{to:"/customer/distribute/"},l.default.createElement(s.default,{type:"primary",style:{position:"absolute",top:4,right:0,zIndex:999}},"\u8fd4\u56de")),l.default.createElement(u.Grid,{formprop:{initNums:2},filterInline:!0,filterItems:this.getFilterItems(),columns:this.columns,loading:t,data:a,refersh:this.refersh}),l.default.createElement(r.default,{width:665,onCancel:this.close,confirmLoading:t,visible:i,footer:null,title:"\u64a4\u9500\u5212\u5206"},this.getModal()))}}function I(e){var t=e.record,a=e.app;return{app:a,record:t}}var w=(0,c.connect)(I)(y);t.default=w}}]);