(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[78],{xxJA:function(e,t,r){"use strict";var n=r("mZ4U");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=p(r("xwgP"));r("KB86");var i=n(r("m/9F")),o=r("8ur3"),s=r("pG04"),l=n(r("4zaf"));function d(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(d=function(e){return e?r:t})(e)}function p(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var r=d(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}class u extends a.Component{constructor(e){var t;super(e),t=this,this.filterItems=(()=>{var e=this.props.simChangeLog.date;return[{text:"\u8bbe\u5907\u5e8f\u5217\u53f7",name:"sn",type:"input"},{text:"\u65f6\u95f4",name:"date",value:e,type:"daterange"}]}),this.refersh=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,a=t.props.dispatch;a({type:"simChangeLog/fetch",payload:{filter:e,pageNo:r,pageSize:n}})},this.hideExportModal=(()=>{this.setState({exportVisible:!1})}),this.showExportModal=(()=>{this.setState({exportVisible:!0})}),this.logsExport=(e=>{var t=this.props.simChangeLog.filter,r=t&&t.sn?t.sn:"",n=t&&t.start?t.start:"",a=t&&t.end?t.end:"";window.open("/simChangLog/export?sn=".concat(r,"&start=").concat(n,"&end=").concat(a,"&fileType=").concat(e.fileType))}),this.state={exportVisible:!1,confirmLoading:!1},this.columns=[{title:"\u8bbe\u5907\u5e8f\u5217\u53f7",dataIndex:"sn"},{title:"\u53d8\u66f4\u4e4b\u524d",dataIndex:"before",render:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"-";if("-"===e)return e;var t=e.split(",");return t.map((e,t)=>{return a.default.createElement(i.default,{key:t},e)})}},{title:"\u53d8\u66f4\u4e4b\u540e",dataIndex:"after",render:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"-";if("-"===e)return e;var t=e.split(",");return t.map((e,t)=>{return a.default.createElement(i.default,{key:t},e)})}},{title:"\u65f6\u95f4",dataIndex:"time"}]}render(){var e=this.props,t=e.loading,r=e.simChangeLog,n=this.state.exportVisible;return a.default.createElement("div",null,a.default.createElement(s.Grid,{formprop:{initNums:2},filterItems:this.filterItems(),columns:this.columns,loading:t,data:r,refersh:this.refersh,toolBtns:[{icon:"download",text:"\u65e5\u5fd7\u5bfc\u51fa",handler:this.showExportModal}]}),a.default.createElement(l.default,{visible:n,title:"\u65e5\u5fd7\u5bfc\u51fa",onCancel:this.hideExportModal,onSubmit:this.logsExport}))}}function f(e){var t=e.simChangeLog,r=e.loading;return{simChangeLog:t,loading:r.models.simChangeLog}}var c=(0,o.connect)(f)(u);t.default=c}}]);