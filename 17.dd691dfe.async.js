(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[17],{"/bHW":function(e,t,a){"use strict";var l=a("mZ4U");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=d(a("xwgP"));a("U2gH");var r=l(a("kT6h"));a("OmhE");var i=l(a("r8hw"));function o(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(o=function(e){return e?a:t})(e)}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=o(t);if(a&&a.has(e))return a.get(e);var l={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}class s extends n.Component{constructor(e){var t;super(e),t=this,this.renderContent=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return n.default.createElement("ul",{style:{padding:0,margin:0,fontSize:12,fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", SimSun, sans-serif',color:"rgb(87, 87, 87)"}},n.default.createElement("li",{style:{listStyle:"none",margin:"0px 0px 4px 0px ",padding:0}},n.default.createElement("span",{style:{display:"inline-block",width:5,height:5,borderRadius:"50%",backgroundColor:"#D1E9FF",marginRight:8}}),"\u6bd4\u4f8b:",n.default.createElement("span",{style:{marginLeft:30}},e,"%")))},this.renderChart=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(0===e.length)return"-";if(1===e.length){var a=e[0];return n.default.createElement("div",null,n.default.createElement("span",{style:{marginRight:4}},a.iccid,a.slot),n.default.createElement("div",{style:{display:"inline-block",width:100}},n.default.createElement(r.default,{trigger:"hover",content:t.renderContent(a.rate)},n.default.createElement(i.default,{percent:a.rate,showInfo:!1,strokeColor:"#13c2c2",size:"small"}))),n.default.createElement("span",{style:{marginLeft:4}},a.desc))}return e.map((a,l)=>{return 0===l?n.default.createElement("div",{style:{borderBottom:"solid 1px #e8e8e8",paddingBottom:13},key:l},n.default.createElement("span",{style:{marginRight:4}},a.iccid,a.slot),n.default.createElement("div",{style:{display:"inline-block",width:100}},n.default.createElement(r.default,{trigger:"hover",content:t.renderContent(a.rate)},n.default.createElement(i.default,{percent:a.rate,showInfo:!1,strokeColor:"#13c2c2",size:"small"}))),n.default.createElement("span",{style:{marginLeft:4}},a.desc)):l===e.length-1?n.default.createElement("div",{style:{paddingTop:13},key:l},n.default.createElement("span",{style:{marginRight:4}},a.iccid,a.slot),n.default.createElement("div",{style:{display:"inline-block",width:100}},n.default.createElement(r.default,{trigger:"hover",content:t.renderContent(a.rate)},n.default.createElement(i.default,{percent:a.rate,showInfo:!1,strokeColor:"#13c2c2",size:"small"}))),n.default.createElement("span",{style:{marginLeft:4}},a.desc)):n.default.createElement("div",{style:{borderBottom:"solid 1px #e8e8e8",paddingBottom:13,paddingTop:13},key:l},n.default.createElement("span",{style:{marginRight:4}},a.iccid,a.slot),n.default.createElement("div",{style:{display:"inline-block",width:100}},n.default.createElement(r.default,{trigger:"hover",content:t.renderContent(a.rate)},n.default.createElement(i.default,{percent:a.rate,showInfo:!1,strokeColor:"#13c2c2",size:"small"}))),n.default.createElement("span",{style:{marginLeft:4}},a.desc))})},this.render=(()=>{var e=this.props.data,t=void 0===e?[]:e,a=t.map(e=>{var t="";return"SLOT_ONE"===e.slot&&(t="(\u69fd\u4f4d1)"),"SLOT_TWO"===e.slot&&(t="(\u69fd\u4f4d2)"),{iccid:e.iccid,rate:parseInt((100*e.ratio).toFixed(0)),desc:e.desc,slot:t}}),l="left";return 0===a.length&&(l="center"),n.default.createElement("div",{style:{width:"calc(100% + 13px)",textAlign:l}},this.renderChart(a))})}}t.default=s},"0WH+":function(e,t,a){"use strict";var l=a("mZ4U");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=u(a("xwgP")),r=a("pG04"),i=l(a("J1Jx")),o=l(a("pOAv")),d=l(a("guZp"));function s(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(s=function(e){return e?a:t})(e)}function u(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=s(t);if(a&&a.has(e))return a.get(e);var l={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}class c extends n.Component{constructor(e){super(e),this.getFilter=(()=>{var e=this.props,t=e.initDate,a=e.adminUser;return[{text:"\u8bbe\u5907",name:"sn",type:"input",placeholder:"\u8bf7\u8f93\u5165\u8bbe\u5907\u5e8f\u5217\u53f7"},{text:"\u65f6\u95f4",name:"date",type:"daterange",allowClear:!1,value:t},{text:"\u5730\u533a",name:"area",component:n.default.createElement(i.default,null)},{text:"\u6807\u7b7e",name:"tag",component:n.default.createElement(o.default,null)},{text:"\u5ba2\u6237",name:"companyId",component:n.default.createElement(d.default,{dataUrl:"/company/list",textName:"name",valueName:"id",searchName:"name",width:200}),check:()=>a}]}),this.render=(()=>{var e=this.props.filterQuery;return n.default.createElement(this.Form,{inline:!0,isGrid:!0,initNums:2,canelBtn:!1,card:!1,okText:"\u67e5\u8be2",fields:this.getFilter(),onSubmit:e})}),this.Form=(0,r.Form)()}}t.default=c},"9YCg":function(e,t,a){"use strict";var l=a("mZ4U");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a("xwgP"));a("U2gH");var r=l(a("kT6h"));a("M3KD");var i=l(a("LCR/")),o=l(a("L0Kt"));function d(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(d=function(e){return e?a:t})(e)}function s(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=d(t);if(a&&a.has(e))return a.get(e);var l={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}class u extends n.Component{constructor(){super(...arguments),this.showContent=(e=>{return n.default.createElement("div",{style:{maxHeight:700,overflowY:"auto"}},e.map(e=>{return n.default.createElement("div",{key:"".concat(e.start).concat(e.end)},n.default.createElement("div",{key:"".concat(e.start).concat(e.end),style:{color:"#333",fontWeight:"bold",backgroundColor:e.online?"green":"gray",borderRadius:6,padding:5}},n.default.createElement("span",null,(0,o.default)(e.start).format("YYYY-MM-DD HH:mm:ss")),n.default.createElement("span",{style:{margin:"0 10px"}},"--"),n.default.createElement("span",null,(0,o.default)(e.end).format("YYYY-MM-DD HH:mm:ss"))),n.default.createElement(i.default,{style:{margin:0}}))}))}),this.renderTitle=(e=>{return n.default.createElement("div",null,n.default.createElement("span",null,(0,o.default)(e.start).format("YYYY-MM-DD HH:mm:ss")),n.default.createElement("span",{style:{margin:"0 10px"}},"-"),n.default.createElement("span",null,(0,o.default)(e.end).format("YYYY-MM-DD HH:mm:ss")))}),this.render=(()=>{var e=this.props,t=e.sn,a=e.dots;return n.default.createElement("div",null,a.map((e,a)=>{return n.default.createElement(r.default,{content:this.showContent(e.period),title:this.renderTitle(e),placement:"topRight",key:"".concat(t).concat(a)},n.default.createElement("span",{style:{cursor:"pointer",display:"inline-block",width:14,height:14,background:e.fullOnline?"#52c41a":e.period.some(t=>t.start<=e.start&&t.end>=e.end)?"#ff0000":"#faad14",borderRadius:"50%",marginRight:10}}))}))})}}t.default=u},Pryh:function(e,t,a){"use strict";var l=a("mZ4U");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("Gcrx");var n=l(a("Wyac"));a("SMEU");var r=l(a("xc0u"));a("26gd");var i=l(a("1GiV"));a("WguZ");var o=l(a("spxj")),d=a("8ur3"),s=l(a("xwgP")),u=l(a("0WH+")),c=l(a("Y5wO")),f=l(a("ncZ7")),p=l(a("stzL")),m=l(a("wpK0")),h=l(a("QmoN")),g=l(a("M1Jq")),v=l(a("Qxqv")),y=o.default.TabPane;class E extends s.default.Component{constructor(e){super(e),this.tabOnChange=(e=>{var t=this.props,a=t.dispatch,l=t.onlinestat;this.setState({tabValue:e}),"dev"===e?a({type:"onlinestat/fetchDev",payload:{filter:l.filter}}):"area"===e?a({type:"onlinestat/fetchArea",payload:{filter:l.filter}}):"tag"===e&&a({type:"onlinestat/fetchTag",payload:{filter:l.filter}})}),this.filterQuery=(e=>{if(e.date&&e.date.start&&e.date.end){var t=this.state.tabValue,a=this.props.dispatch;a({type:"onlinestat/fetch",payload:{filter:e}}),"dev"===t?a({type:"onlinestat/fetchDev",payload:{filter:e}}):"area"===t?a({type:"onlinestat/fetchArea",payload:{filter:e}}):"tag"===t&&a({type:"onlinestat/fetchTag",payload:{filter:e}})}else i.default.error("\u65e5\u671f\u4e0d\u80fd\u4e3a\u7a7a!")}),this.showModal=(()=>{this.setState({contrastModal:!0})}),this.hideModal=(()=>{this.setState({contrastModal:!1})}),this.submit=(e=>{var t=this.props.dispatch;t({type:"onlinestat/contrast",payload:{values:e},callback:{onSuccess:()=>{this.setState({contrastModal:!1,contrastChart:!0})}}})}),this.hideChartModal=(()=>{var e=this.props.dispatch;e({type:"onlinestat/cleanData"}),this.setState({contrastChart:!1})}),this.showExportModal=(()=>{this.setState({exportModalVisible:!0})}),this.hideExportModal=(()=>{this.setState({exportModalVisible:!1})}),this.renderTabBar=(()=>{var e=this.state.tabValue,t=["dev"];return s.default.createElement("div",{key:e,style:{display:"flex",justifyContent:"center"}},t.includes(e)?s.default.createElement(r.default,{icon:"download",onClick:this.showExportModal,style:{marginRight:15}},"\u5bfc\u51fa"):null,s.default.createElement(r.default,{onClick:this.showModal},"\u5bf9\u6bd4\u5728\u7ebf\u7387"))}),this.state={tabValue:"dev",contrastModal:!1,contrastChart:!1,exportModalVisible:!1}}render(){var e=this.state,t=e.tabValue,a=e.contrastModal,l=e.contrastChart,r=e.exportModalVisible,i=this.props,d=i.onlinestat,E=d.date,b=d.shakeTime,x=d.avgOnRatio,w=d.avgUpRatio,C=i.chartLoading,k=i.areaLoading,M=i.tagLoading,O=i.app.user,P="undefined"!==typeof O.companyUser&&!O.companyUser;return s.default.createElement("div",null,s.default.createElement(u.default,{filterQuery:this.filterQuery,initDate:E,shakeTime:b,adminUser:P}),s.default.createElement(n.default,{spinning:C},s.default.createElement("div",{style:{background:"#fff",padding:"24px 32px",marginTop:20,borderRadius:4}},s.default.createElement("div",{style:{marginBottom:22,color:"#333"}},s.default.createElement("span",{style:{color:"#333"}},"\u5728\u7ebf\u7387\u603b\u6982\u89c8"),s.default.createElement("span",{style:{margin:"0 40px"}},"\u603b\u5728\u7ebf\u7387\uff1a",x,"%"),s.default.createElement("span",null,"\u603b\u4e0a\u7ebf\u7387\uff1a",w,"%")),s.default.createElement(c.default,null))),s.default.createElement("div",{style:{marginTop:24,paddingBottom:30}},s.default.createElement(o.default,{tabBarExtraContent:this.renderTabBar(),defaultActiveKey:t,onChange:this.tabOnChange,type:"card"},s.default.createElement(y,{tab:s.default.createElement("div",{style:{borderRadius:4,marginTop:4,lineHeight:"32px",padding:"dev"===t?"0 30px 5px":"0 30px",background:"dev"===t?"#fff":"#b6c2c9",color:"dev"===t?"#506470":"#fff"}},"\u8bbe\u5907"),key:"dev"},s.default.createElement("div",{style:{background:"#fff",padding:"32px 30px"}},s.default.createElement(f.default,null))),s.default.createElement(y,{tab:s.default.createElement("div",{style:{borderRadius:4,marginTop:4,lineHeight:"32px",margin:"0 5px",padding:"area"===t?"0 30px 5px":"0 30px",background:"area"===t?"#fff":"#b6c2c9",color:"area"===t?"#506470":"#fff"}},"\u5730\u533a"),key:"area"},s.default.createElement("div",{style:{background:"#fff",padding:"32px 30px"}},s.default.createElement(n.default,{spinning:k},s.default.createElement(p.default,{model:"online",unit:"%"})))),s.default.createElement(y,{tab:s.default.createElement("div",{style:{borderRadius:4,marginTop:4,lineHeight:"32px",padding:"tag"===t?"0 30px 5px":"0 30px",background:"tag"===t?"#fff":"#b6c2c9",color:"tag"===t?"#506470":"#fff"}},"\u6807\u7b7e"),key:"tag"},s.default.createElement("div",{style:{background:"#fff",padding:"32px 30px"}},s.default.createElement(n.default,{spinning:M},s.default.createElement(m.default,{model:"online",unit:"%"})))))),s.default.createElement(h.default,{visible:a,cleanForm:l,onClose:this.hideModal,onSubmit:this.submit,module:"online"}),s.default.createElement(g.default,{visible:l,onClose:this.hideChartModal,module:"online"}),s.default.createElement(v.default,{visible:r,onClose:this.hideExportModal,adminUser:P}))}}function b(e){var t=e.app,a=e.onlinestat,l=e.loading;return{app:t,onlinestat:a,chartLoading:l.effects["onlinestat/fetch"],areaLoading:l.effects["onlinestat/fetchArea"],tagLoading:l.effects["onlinestat/fetchTag"]}}var x=(0,d.connect)(b)(E);t.default=x},Qxqv:function(e,t,a){"use strict";var l=a("mZ4U");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("exa0");var n=l(a("KiF4"));a("vJ22");var r=l(a("BPQb"));a("C1KP");var i=l(a("d6B9")),o=l(a("zAuD")),d=l(a("xwgP")),s=l(a("guZp")),u=l(a("nLhn")),c=l(a("L0Kt"));class f extends d.default.Component{constructor(e){super(e),this.companyChange=(e=>{this.setState({companyId:e});var t=this.props.form.setFieldsValue;t&&t({sn:void 0})}),this.checkPost=(()=>{this.props.form.validateFields((e,t)=>{if(!e){var a=t.date,l=a.start,n=a.end,r=l?l.format("YYYY-MM-DD"):"",i=n?n.format("YYYY-MM-DD"):"",o=t.companyId||"",d=t.sn||"",s=t.cycle||"",u=t.fileType||"";window.open("/api/onlinestat/export?sn=".concat(d,"&cycle=").concat(s,"&start=").concat(r,"&end=").concat(i,"&companyId=").concat(o,"&fileType=").concat(u))}})}),this.beforeClose=(()=>{var e=this.props,t=e.onClose,a=e.form.resetFields;t&&t(),a&&a()}),this.render=(()=>{var e=this.state,t=e.loading,a=e.companyId,l=this.props,f=l.visible,p=l.form.getFieldDecorator,m=l.adminUser,h={labelCol:{span:4},wrapperCol:{span:20}};return d.default.createElement(n.default,{title:"\u5bfc\u51fa",confirmLoading:t,visible:f,width:500,onOk:this.checkPost,onCancel:this.beforeClose},d.default.createElement(i.default,{layout:"horizontal"},m?d.default.createElement(i.default.Item,(0,o.default)({},h,{label:"\u5ba2\u6237"}),p("companyId",{validateTrigger:["onChange","onBlur"],rules:[{required:!1,message:"\u8bf7\u9009\u62e9\u5ba2\u6237"}]})(d.default.createElement(s.default,{dataUrl:"/company/list",textName:"name",valueName:"id",searchName:"name",onChange:this.companyChange,width:200}))):null,d.default.createElement(i.default.Item,(0,o.default)({},h,{label:"\u8bbe\u5907"}),p("sn",{validateTrigger:["onChange","onBlur"],rules:[{required:!1,message:"\u8bf7\u9009\u62e9\u8bbe\u5907"}]})(d.default.createElement(s.default,{formProps:{mode:"multiple"},key:a,dataUrl:"/dev/list?companyId=".concat(a||""),textName:"sn",valueName:"sn",width:350,searchName:"sn",placeholder:"\u8bf7\u9009\u62e9\u8bbe\u5907"}))),d.default.createElement(i.default.Item,(0,o.default)({},h,{label:"\u65f6\u95f4"}),p("date",{initialValue:{start:(0,c.default)().subtract(1,"month"),end:(0,c.default)()},validateTrigger:["onChange","onBlur"],rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u65f6\u95f4"}]})(d.default.createElement(u.default,{allowClear:!1}))),d.default.createElement(i.default.Item,(0,o.default)({},h,{label:"\u65f6\u95f4\u7ef4\u5ea6"}),p("cycle",{initialValue:"DAY",validateTrigger:["onChange","onBlur"],rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u7c7b\u578b"}]})(d.default.createElement(r.default.Group,null,d.default.createElement(r.default,{value:"DAY"},"\u6bcf\u65e5"),d.default.createElement(r.default,{value:"MONTH"},"\u6bcf\u6708")))),d.default.createElement(i.default.Item,(0,o.default)({},h,{label:"\u7c7b\u578b"}),p("fileType",{initialValue:"EXCEL",validateTrigger:["onChange","onBlur"],rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u7c7b\u578b"}]})(d.default.createElement(r.default.Group,null,d.default.createElement(r.default,{value:"EXCEL"},"EXCEL"),d.default.createElement(r.default,{value:"PDF"},"PDF"))))))}),this.state={companyId:null}}}var p=i.default.create()(f);t.default=p},Y5wO:function(e,t,a){"use strict";var l=a("mZ4U");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=h(a("xwgP"));a("exa0");var r=l(a("KiF4"));a("Gcrx");var i=l(a("Wyac"));a("vJ22");var o=l(a("BPQb"));a("kYD1");var d=l(a("dzgx"));a("WguZ");var s=l(a("spxj")),u=a("8ur3"),c=a("w38x"),f=l(a("GnJS")),p=l(a("eO2N"));function m(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(m=function(e){return e?a:t})(e)}function h(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=m(t);if(a&&a.has(e))return a.get(e);var l={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}var g=s.default.TabPane;class v extends n.Component{constructor(e){super(e),this.selectChange=(e=>{this.setState({selectVal:e.target.value})}),this.chartClick=(e=>{var t=this.props.dispatch,a={x:e.x,y:e.y},l=this.chartIns.getTooltipItems(a);if(l&&l.length>0){var n=l[0].point._origin.date;this.selectDate=n,t({type:"onlinestat/uplineDetails",payload:{date:n}}).then(()=>{this.setState({modalShow:!0,modalTitle:n})})}}),this.modalCancel=(()=>{var e=this.props.dispatch;this.setState({modalShow:!1},()=>{this.tabKey=Math.random(),e({type:"onlinestat/clearStatisticsDetails"})})}),this.scrollHandler=(e=>{var t=this.props,a=t.onlinestat.uplineDetails,l=t.dispatch,n=e.target.id,r=document.getElementById(n+2).offsetHeight,i=e.target.offsetHeight,o=e.target.scrollTop,d=this;if(r-o==i){var s=a[n].filter.pageNo+1,u=a[n].filter.pageSize;this.setState({modalLoading:!0}),l({type:"onlinestat/uplineDetailsPage",payload:{pageNo:s,pageSize:u,upline:n}}).then(()=>{d.setState({modalLoading:!1})})}}),this.renderTab=(e=>{return this.tabKey||(this.tabKey=Math.random()),e.keys&&e.keys.length>0?n.default.createElement(s.default,{key:this.tabKey},n.default.createElement(g,{tab:"\u4e0a\u8fc7\u7ebf",key:"on"},e.onUpline.list.length?n.default.createElement("div",{id:"onUpline",style:{overflowY:"auto",height:480},onScroll:this.scrollHandler},n.default.createElement("div",{id:"onUpline2",className:p.default.assetWarp,style:{padding:"0px 12px",overflow:"hidden"}},e.onUpline.list.map(e=>{return n.default.createElement("div",{key:e+"onUpline",className:p.default.asset},n.default.createElement("img",{src:f.default,alt:"",style:{width:40,height:40}}),n.default.createElement("span",{className:p.default.snText},e))}))):n.default.createElement(d.default,null)),n.default.createElement(g,{tab:"\u672a\u4e0a\u7ebf",key:"off"},e.offUpline.list.length?n.default.createElement("div",{id:"offUpline",style:{overflowY:"auto",height:480},onScroll:this.scrollHandler},n.default.createElement("div",{id:"offUpline2",className:p.default.assetWarp,style:{padding:"0px 12px",overflow:"hidden"}},e.offUpline.list.map(e=>{return n.default.createElement("div",{key:e+"offUpline",className:p.default.asset},n.default.createElement("img",{src:f.default,alt:"",style:{width:40,height:40}}),n.default.createElement("span",{className:p.default.snText},e))}))):n.default.createElement(d.default,null))):n.default.createElement(d.default,null)}),this.render=(()=>{var e=this.props.onlinestat,t=e.ratioChart,a=e.uplineDetails,l=this.state,d=l.modalLoading,s=l.modalTitle,u=l.modalShow;return n.default.createElement("div",{style:{position:"relative"}},n.default.createElement("div",{style:{overflow:"hidden",marginBottom:14}},n.default.createElement("span",{style:{color:"#999999"}},"\u767e\u5206\u6bd4%"),n.default.createElement("div",{style:{position:"absolute",top:-32,right:0}},n.default.createElement(o.default.Group,{defaultValue:"onRatio",onChange:this.selectChange},n.default.createElement(o.default.Button,{value:"onRatio"},"\u5728\u7ebf\u7387"),n.default.createElement(o.default.Button,{value:"upRatio"},"\u4e0a\u7ebf\u7387")))),n.default.createElement("div",{id:"onlineChartP"},n.default.createElement(c.Chart,{height:330,data:t,onPlotClick:this.chartClick,scale:"onRatio"===this.state.selectVal?this.onCols:this.upCols,forceFit:!0,padding:[26,40,80,36],onGetG2Instance:e=>this.chartIns=e},n.default.createElement(c.Axis,{name:"upRatio",grid:null}),n.default.createElement(c.Axis,{name:"onRatio",grid:null}),"onRatio"===this.state.selectVal?n.default.createElement(c.Geom,{type:"interval",position:"date*onRatio",shape:"circle",color:"#13c2c2",size:["date",e=>{var a=document.getElementById("onlineChartP"),l=a.offsetWidth/t.length/2;return l<1&&(l=1),l>50&&(l=50),l}],tooltip:["date*onRatio",(e,t)=>{return{name:"\u5728\u7ebf\u7387",title:e,value:t+"%"}}]},n.default.createElement(c.Label,{content:["onRatio",e=>{return 0===e?null:e}],textStyle:{fontSize:12,shadowColor:"#13c2c2"}})):n.default.createElement(c.Geom,{type:"interval",position:"date*upRatio",shape:"circle",color:"#13c2c2",size:["date",e=>{var a=document.getElementById("onlineChartP"),l=a.offsetWidth/t.length/2;return l<1&&(l=1),l>50&&(l=50),l}],tooltip:["date*upRatio",(e,t)=>{return{name:"\u4e0a\u7ebf\u7387",title:e,value:t+"%"}}]},n.default.createElement(c.Label,{content:["upRatio",e=>{return 0===e?null:e}],textStyle:{fontSize:12,shadowColor:"#13c2c2"}})),n.default.createElement(c.Tooltip,{crosshairs:{type:"y"}}))),n.default.createElement(r.default,{title:s,visible:u,onCancel:this.modalCancel,footer:!1,width:640,bodyStyle:{paddingTop:0}},n.default.createElement(i.default,{spinning:d},this.renderTab(a))))}),this.state={selectVal:"onRatio",modalShow:!1,modalTitle:"",modalLoading:!1},this.selectDate=null,this.onCols={onRatio:{min:0,max:100,ticks:[0,20,40,60,80,100]},date:{type:"timeCat"}},this.upCols={upRatio:{min:0,max:100,ticks:[0,20,40,60,80,100]},date:{type:"timeCat"}}}}function y(e){var t=e.onlinestat;return{onlinestat:t}}var E=(0,u.connect)(y)(v);t.default=E},ncZ7:function(e,t,a){"use strict";var l=a("mZ4U");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=c(a("xwgP")),r=a("8ur3"),i=a("pG04"),o=l(a("9YCg")),d=l(a("/bHW")),s=a("7Qib");function u(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(u=function(e){return e?a:t})(e)}function c(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=u(t);if(a&&a.has(e))return a.get(e);var l={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}class f extends n.Component{constructor(){var e;super(...arguments),e=this,this.getColumn=(()=>{return[{title:"\u8bbe\u5907\u5e8f\u5217\u53f7",dataIndex:"sn"},{title:"\u5728\u7ebf\u7387(%)",dataIndex:"onlineRatio"},{title:"\u5728\u7ebf\u65f6\u957f",dataIndex:"onlineDuration",render:e=>{return e?(0,s.timestampHumanize)(e):0}},{title:"\u6bd4\u4f8b",dataIndex:"sims",render:e=>{return e&&e.length?n.default.createElement(d.default,{data:e,height:15}):"-"}},{title:"\u4e0a\u7ebf/\u79bb\u7ebf",dataIndex:"offlineTime",render:(e,t)=>{var a=t.dots;return n.default.createElement(o.default,{dots:a})},width:800}]}),this.refersh=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0,l=e.props,n=l.dispatch,r=l.onlinestat;n({type:"onlinestat/fetchDev",payload:{filter:r.filter,pageNo:t,pageSize:a}})},this.render=(()=>{var e=this.props,t=e.loading,a=e.onlinestat;return n.default.createElement(i.Grid,{disableToolbar:!0,columns:this.getColumn(),loading:t,data:a.devData,refersh:this.refersh})})}}function p(e){var t=e.onlinestat,a=e.loading;return{onlinestat:t,loading:a.effects["onlinestat/fetchDev"]}}var m=(0,r.connect)(p)(f);t.default=m}}]);