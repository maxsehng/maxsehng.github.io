(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[15],{"/Q1f":function(e,t,a){"use strict";var r=a("mZ4U");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("exa0");var n=r(a("KiF4")),l=a("8ur3"),i=c(a("xwgP")),o=a("pG04"),s=r(a("EPb2")),d=r(a("KlRl"));function u(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(u=function(e){return e?a:t})(e)}function c(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=u(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=n?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(r,l,i):r[l]=e[l]}return r.default=e,a&&a.set(e,r),r}class f extends i.Component{constructor(e){var t;super(e),t=this,this.componentDidMount=(()=>{var e=this.props.dispatch;e({type:"devconfig/getConfigItem"})}),this.content=(e=>{return i.default.createElement("div",null,e.map((e,t)=>{return i.default.createElement("div",{key:"".concat(e).concat(t)},e)}))}),this.getFilterItems=(e=>{return[{text:"\u540d\u79f0",name:"name",value:e.name,type:"input"},{text:"\u65f6\u95f4",name:"date",value:e.date,type:"daterange"}]}),this.insertFields=(()=>{var e=this.props.devconfig,t=void 0===e?{}:e;return[{text:"\u540d\u79f0",name:"name",type:"input",labelcol:2,validate:[{rules:[{required:!0,message:"\u8bf7\u586b\u5199\u914d\u7f6e\u540d\u79f0"}],trigger:["onBlur","onChange"]}]},{text:"\u914d\u7f6e",name:"config",type:"textarea",value:t.configItem,labelcol:2,rows:20,validate:[{rules:[{required:!0,message:"\u8bf7\u586b\u5199\u914d\u7f6e\u5185\u5bb9"}],trigger:["onBlur","onChange"]}]}]}),this.refersh=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,n=t.props.dispatch;n({type:"devconfig/fetch",payload:{filter:e,pageNo:a,pageSize:r}})},this.add=((e,t)=>{var a=this.props.dispatch;a({type:"devconfig/add",payload:{values:e},callback:t})}),this.edit=((e,t)=>{var a=this.props.dispatch;a({type:"devconfig/edit",payload:{values:e},callback:t})}),this.del=(e=>{var t=e.id,a=this.props.dispatch;a({type:"devconfig/del",payload:{id:t}})}),this.showPullModal=(()=>{this.setState({pullVisible:!0})}),this.hidePullModal=(()=>{var e=this.props.dispatch;this.setState({pullVisible:!1}),e({type:"devconfig/cleanConfig"})}),this.showConfigContent=(e=>{this.setState({configVisible:!0,configContent:e.configContent})}),this.cancelShow=(()=>{this.setState({configVisible:!1})}),this.showImport=(()=>{this.setState({importModalVisible:!0})}),this.hideImport=(()=>{this.setState({importModalVisible:!1})}),this.importSuccess=(()=>{this.hideImport();var e=this.props.dispatch;e({type:"devconfig/fetch"})}),this.render=(()=>{var e=this.props,t=e.loading,a=e.devconfig,r=e.editLoading,l=e.addLoading,u=(e.app.user,this.state),c=u.pullVisible,f=u.configVisible,p=u.configContent,h=u.importModalVisible;return i.default.createElement("div",null,i.default.createElement(d.default,{visible:h,onClose:this.hideImport,onSuccess:this.importSuccess}),i.default.createElement(o.Grid,{formprop:{initNums:2},filterInline:!0,filterItems:this.getFilterItems(a.filter),columns:this.columns,loading:t,data:a,addLoading:l,editLoading:r,insertFields:this.insertFields(),editFields:this.insertFields(),del:2!=sessionStorage.getItem("roleId")&&this.del,insert:2!=sessionStorage.getItem("roleId")&&this.add,edit:2!=sessionStorage.getItem("roleId")&&this.edit,refersh:this.refersh,toolBtns:2!=sessionStorage.getItem("roleId")?[{icon:"upload",text:"\u5bfc\u5165\u5907\u4efd\u914d\u7f6e",handler:this.showImport},{icon:"cloud-download",text:"\u62c9\u53d6\u914d\u7f6e",handler:this.showPullModal}]:[],addProp:{width:800},editProp:{width:800},actions:[{text:"\u67e5\u770b\u914d\u7f6e\u9879",handler:e=>{this.showConfigContent(e)}}]}),i.default.createElement(s.default,{visible:c,onCancel:this.hidePullModal}),i.default.createElement(n.default,{title:"\u914d\u7f6e\u9879",visible:f,footer:null,width:600,onCancel:this.cancelShow,bodyStyle:{paddingBottom:0}},i.default.createElement("textarea",{style:{width:"100%"},rows:20,value:p,readOnly:!0})))}),this.state={pullVisible:!1,configVisible:!1,configContent:"",importModalVisible:!1},this.columns=[{title:"\u540d\u79f0",dataIndex:"name"},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"createTime"}]}}function p(e){var t=e.devconfig,a=e.loading,r=e.app;return{app:r,devconfig:t,loading:a.models.devconfig,addLoading:a.effects["devconfig/add"],editLoading:a.effects["devconfig/edit"]}}var h=(0,l.connect)(p)(f);t.default=h},BoZf:function(e,t,a){"use strict";var r=a("mZ4U");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("exa0");var n=r(a("KiF4"));a("SMEU");var l=r(a("xc0u"));a("Mf8d");var i=r(a("4OHk"));a("C1KP");var o=r(a("d6B9")),s=r(a("zAuD"));a("26gd");var d=r(a("1GiV"));a("vJ22");var u=r(a("BPQb")),c=a("8ur3"),f=v(a("xwgP")),p=r(a("J1Jx")),h=r(a("pOAv")),g=r(a("guZp"));function m(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(m=function(e){return e?a:t})(e)}function v(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=m(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=n?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(r,l,i):r[l]=e[l]}return r.default=e,a&&a.set(e,r),r}function y(e,t){var a="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=b(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,i=!0,o=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return i=e.done,e},e:function(e){o=!0,l=e},f:function(){try{i||null==a.return||a.return()}finally{if(o)throw l}}}}function b(e,t){if(e){if("string"===typeof e)return C(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?C(e,t):void 0}}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}var E=0,x=u.default.Group,w={labelCol:{xs:{span:24},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:20}}},k={wrapperCol:{xs:{span:24,offset:0},sm:{span:20,offset:4}}};class I extends f.Component{constructor(e){super(e),this.remove=(e=>{var t=this.props.form,a=t.getFieldValue("keys");1!==a.length&&t.setFieldsValue({keys:a.filter(t=>t!==e)})}),this.add=(()=>{var e=this.props.form,t=e.getFieldValue("keys");if(t.length>=6)d.default.error("\u4e00\u6b21\u6700\u591a\u8bbe\u7f6e6\u4e2a\u6761\u76ee");else{var a=t.concat(E++);e.setFieldsValue({keys:a})}}),this.onClose=(()=>{var e=this.props,t=e.onClose,a=e.form;a&&a.resetFields(),this.setState({rangeValue:void 0,snData:void 0}),t&&t()}),this.handleOk=(e=>{var t=this.props,a=t.onSubmit,r=t.edit,n=t.rowData;e.preventDefault(),this.props.form.validateFields((e,t)=>{if(!e){var l=[],i=!1;if("adds"===t.range){var o,s=y(t.keys);try{var u=function(){var e=o.value,a={},r="adds"+e,n=void 0;n=Array.isArray(t[r])?t[r]:t[r].split(","),a.country=n[0],a.region=n[1],a.locality=n[2];var s=l.find(e=>e.country===a.country&&e.region===a.region&&e.locality===a.locality);if(s)return d.default.error("\u5b58\u5728\u76f8\u540c\u7684\u5730\u533a\uff0c\u8bf7\u4fee\u6539!"),i=!0,{v:void 0};l.push(a)};for(s.s();!(o=s.n()).done;){var c=u();if("object"===typeof c)return c.v}}catch(e){s.e(e)}finally{s.f()}if(0===l.length)return void d.default.error("\u8bf7\u5148\u6dfb\u52a0\u5730\u533a")}else if("label"===t.range){var f,p=y(t.keys);try{var h=function(){var e=f.value,a={},r="labels"+e,n=t[r];a.title=n[0],a.content=n[1];var o=l.find(e=>e.title===a.title&&e.content===a.content);if(o)return d.default.error("\u5b58\u5728\u76f8\u540c\u7684\u6807\u7b7e\uff0c\u8bf7\u4fee\u6539!"),i=!0,{v:void 0};l.push(a)};for(p.s();!(f=p.n()).done;){var g=h();if("object"===typeof g)return g.v}}catch(e){p.e(e)}finally{p.f()}if(0===l.length)return void d.default.error("\u8bf7\u5148\u6dfb\u52a0\u6807\u7b7e")}else l=t.sn;i||(t.rangeValue=JSON.stringify(l),n&&n.id?(t.id=n&&n.id,r(t)):a&&a(t,this.onClose))}})}),this.labelOnChange=(e=>{var t=this.props.form;t.setFieldsValue({keys:[]}),this.setState({rangeValue:e.target.value,snData:void 0})}),this.formFixedItems=(()=>{var e=this.props.form.getFieldDecorator;return f.default.createElement(f.Fragment,null,f.default.createElement(o.default.Item,(0,s.default)({},w,{label:"\u8303\u56f4",required:!0,key:"\u8303\u56f4"}),e("range",{validateTrigger:["onChange","onBlur"],rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u8303\u56f4\u7c7b\u578b"}]})(f.default.createElement(x,{onChange:this.labelOnChange},f.default.createElement(u.default,{value:"all"},"\u6240\u6709\u8bbe\u5907"),f.default.createElement(u.default,{value:"sn"},"\u8bbe\u5907"),f.default.createElement(u.default,{value:"adds"},"\u5730\u533a"),f.default.createElement(u.default,{value:"label"},"\u6807\u7b7e")))))}),this.snFormItems=(()=>{var e=this.state.snData,t=this.props.form.getFieldDecorator,a=this.props.app.user;return f.default.createElement(o.default.Item,(0,s.default)({},w,{label:"\u8bbe\u5907\uff1a",required:!0,key:"\u8bbe\u5907"}),t("sn",{initialValue:e,validateTrigger:["onChange","onBlur"],rules:[{validator:(e,t,a)=>{t&&""!=t&&0!=t.length?t.length>50?a("\u4e00\u6b21\u6700\u591a\u9009\u62e950\u53f0\u8bbe\u5907"):a():a("\u8bf7\u9009\u62e9\u8bbe\u5907")}}]})(f.default.createElement(g.default,{dataUrl:a.companyUser?"/dev/list":"/dev/list?companyId=-1",textName:"sn",valueName:"sn",searchName:"sn",formProps:{mode:"multiple",placeholder:"\u8bf7\u9009\u62e9\u8bbe\u5907"}})))}),this.addsFormItems=(()=>{var e=this.props.form,t=e.getFieldValue,a=e.getFieldDecorator,r=t("keys"),n=r.map((e,t)=>f.default.createElement(f.Fragment,{key:"\u5730\u533a".concat(e).concat(t)},f.default.createElement(o.default.Item,(0,s.default)({},0===t?w:k,{label:0===t?"\u5730\u533a\uff1a":"",required:!0,key:"\u5730\u533a".concat(e)}),a("adds".concat(e),{validateTrigger:["onChange","onBlur"],rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u5730\u533a"}]})(f.default.createElement(p.default,null)),f.default.createElement(i.default,{style:{marginLeft:10},className:"dynamic-delete-button",type:"minus-circle-o",onClick:()=>this.remove(e)}))));return n}),this.labelFormItems=(()=>{var e=this.props.form,t=e.getFieldValue,a=e.getFieldDecorator,r=t("keys"),n=r.map((e,t)=>f.default.createElement(f.Fragment,{key:"\u6807\u7b7e".concat(e).concat(t)},f.default.createElement(o.default.Item,(0,s.default)({},0===t?w:k,{label:0===t?"\u6807\u7b7e\uff1a":"",required:!0,key:"\u6807\u7b7e".concat(e)}),a("labels".concat(e),{validateTrigger:["onChange","onBlur"],rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u6807\u7b7e"}]})(f.default.createElement(h.default,{width:452})),f.default.createElement(i.default,{style:{marginLeft:10},className:"dynamic-delete-button",type:"minus-circle-o",onClick:()=>this.remove(e)}))));return n}),this.afterClose=(()=>{this.setState({reset:!0})}),this.render=(()=>{var e=this.props,t=e.visible,a=e.loading,r=this.state,o=r.rangeValue,s=r.snData,d=r.reset,u=this.props.form.getFieldDecorator;if(d)return this.state.reset=!1,null;var c=[];return u("keys",{initialValue:c}),f.default.createElement(n.default,{title:"\u6279\u91cf\u5907\u4efd\u914d\u7f6e",visible:t,onOk:this.handleOk,onCancel:this.onClose,afterClose:this.afterClose,width:650,confirmLoading:a},f.default.createElement("div",{style:{height:500,overflowY:"auto"}},this.formFixedItems(),"sn"===o||s?this.snFormItems():"adds"===o?this.addsFormItems():"label"===o?this.labelFormItems():null,"adds"===o||"label"===o?f.default.createElement(l.default,{type:"dashed",onClick:this.add,style:{width:"60%",marginLeft:"20%"}},f.default.createElement(i.default,{type:"plus"})," \u6dfb\u52a0"):null))}),this.state={rangeValue:"",snData:void 0,reset:!1}}}function S(e){var t=e.app;return{app:t}}var O=(0,c.connect)(S)(o.default.create()(I));t.default=O},EPb2:function(e,t,a){"use strict";var r=a("mZ4U");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("26gd");var n=r(a("1GiV"));a("NWD0");var l=r(a("2L3m"));a("4ADO");var i=r(a("wty1"));a("NEjA");var o=r(a("g2HK")),s=a("8ur3"),d=h(a("xwgP")),u=a("pG04"),c=r(a("guZp")),f=a("t3Un");function p(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(p=function(e){return e?a:t})(e)}function h(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=p(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=n?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(r,l,i):r[l]=e[l]}return r.default=e,a&&a.set(e,r),r}var g=o.default.Group;class m extends d.Component{constructor(e){super(e),this.onCheckAllChange=(e=>{var t=this.props.modules,a=e.target.checked?t.map(e=>e.value):[];this.setState({checkBoxValue:a,indeterminate:!1,checkAll:e.target.checked}),this.triggerChange(a)}),this.checkBoxOnChange=(e=>{var t=this.props.modules;this.setState({checkBoxValue:e,indeterminate:!!e.length&&e.length<t.length,checkAll:e.length===t.length}),this.triggerChange(e)}),this.triggerChange=(e=>{var t=this.props.onChange;t&&t(e)});var t=e.value||[];this.state={checkBoxValue:t,indeterminate:!1,checkAll:!1}}render(){var e=this.state,t=e.checkBoxValue,a=e.indeterminate,r=e.checkAll,n=this.props.modules;return d.default.createElement("div",{style:{marginLeft:20}},d.default.createElement("div",null,n.length?d.default.createElement(o.default,{indeterminate:a,onChange:this.onCheckAllChange,checked:r},"\u5168\u9009"):null),d.default.createElement("div",null,d.default.createElement(g,{value:t,onChange:this.checkBoxOnChange},d.default.createElement(l.default,null,n.length>0?n.map(e=>{return d.default.createElement(i.default,{span:8,key:e.value},d.default.createElement(o.default,{key:e.value,value:e.value,style:{marginRight:10,marginBottom:10}},e.label))}):null))))}}class v extends d.Component{constructor(e){super(e),this.selectOnChange=(e=>{var t=this.props.app.language;this.setState({selectValue:e}),e?(0,f.post)("/dev_config/modules",{sn:e}).then(e=>{this.setState({modules:e.map(e=>({label:"en"===t?e.endesc:e.zhdesc,value:e.name}))})}):this.setState({modules:[]})}),this.getFields=(()=>{var e=this.state.modules;return[{text:"\u914d\u7f6e\u540d",name:"name",type:"input",labelcol:5,validate:[{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u914d\u7f6e\u540d"}],trigger:["onBlur","onChange"]}]},{text:"\u8bbe\u5907",name:"sn",labelcol:5,component:d.default.createElement(c.default,{dataUrl:"/dev/list?status=ONLINE",textName:"sn",valueName:"sn",searchName:"sn",paramName:"t",paramValue:(new Date).getTime(),onChange:this.selectOnChange}),validate:[{rules:[{required:!0,message:"\u8bf7\u586b\u5199\u914d\u7f6e\u5185\u5bb9"}],trigger:["onBlur","onChange"]}]},{name:"modules",labelcol:0,wrappercol:24,component:d.default.createElement(m,{modules:e}),check:()=>e.length,validate:[{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u914d\u7f6e\u9879"}],trigger:["onBlur","onChange"]}]}]}),this.pullConfig=(e=>{if(e.modules&&e.modules.length){var t=this.props.dispatch;t({type:"devconfig/pullConfig",payload:e,callback:{onSuccess:this.onCancel}})}else n.default.warn("\u8bf7\u786e\u8ba4\u8bbe\u5907\u662f\u5426\u652f\u6301\u6b64\u529f\u80fd")}),this.onCancel=(()=>{var e=this.props.onCancel;e&&e(),this.setState({modules:[]})}),this.render=(()=>{var e=this.props,t=e.visible,a=e.pullLoading;return d.default.createElement("div",null,d.default.createElement(u.Form.Modal,{title:"\u62c9\u53d6\u914d\u7f6e",width:600,visible:t,confirmLoading:a,onCancel:this.onCancel,fields:this.getFields(),onSubmit:this.pullConfig}))}),this.Form=(0,u.Form)(),this.state={modules:[]}}}function y(e){var t=e.devconfig,a=e.app,r=e.loading;return{devconfig:t,app:a,pullLoading:r.effects["devconfig/pullConfig"]}}var b=(0,s.connect)(y)(v);t.default=b},GxFG:function(e,t,a){"use strict";var r=a("mZ4U");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("U2gH");var n=r(a("kT6h")),l=a("8ur3"),i=u(a("xwgP")),o=a("pG04"),s=r(a("BoZf"));function d(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(d=function(e){return e?a:t})(e)}function u(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=d(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=n?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(r,l,i):r[l]=e[l]}return r.default=e,a&&a.set(e,r),r}class c extends i.Component{constructor(e){var t;super(e),t=this,this.snContent=(e=>{return i.default.createElement("div",{style:{width:302,minHeight:100}},e.map((e,t)=>{return i.default.createElement("span",{key:"".concat(e).concat(t),style:{display:"inline-block",padding:"6px 10px",border:"1px solid #e6e6e6",marginRight:8,marginBottom:8}},e)}))}),this.addsContent=(e=>{return i.default.createElement("div",{style:{width:302,minHeight:100}},e.map((e,t)=>{return i.default.createElement("span",{key:"".concat(e).concat(t),style:{display:"inline-block",padding:"6px 10px",border:"1px solid #e6e6e6",marginRight:8,marginBottom:8}},"".concat(e[0]).concat(e.length>1&&e[1]?"/".concat(e[1]):"").concat(e.length>2&&e[2]?"/".concat(e[2]):""))}))}),this.rangeDiv=(e=>{return e?"sn"===e.type?i.default.createElement(n.default,{content:this.snContent(e.value),title:"\u8bbe\u5907\u5e8f\u5217\u53f7"},e.value.map((e,t)=>{return t<3?i.default.createElement("span",{key:"".concat(e),style:{padding:"6px 10px",border:"1px solid #e6e6e6",marginRight:6}},e):3===t?i.default.createElement("span",{key:"".concat(e)},"..."):null})):"adds"===e.type||"label"===e.type?i.default.createElement(n.default,{content:this.addsContent(e.value),title:"adds"===e.type?"\u5730\u533a":"\u6807\u7b7e"},e.value.map((e,t)=>{return t<1?i.default.createElement("span",{key:"".concat(e),style:{padding:"6px 10px",border:"1px solid #e6e6e6",marginRight:6}},"".concat(e[0]).concat(e.length>1&&e[1]?"/".concat(e[1]):"").concat(e.length>2&&e[2]?"/".concat(e[2]):"")):1===t?i.default.createElement("span",{key:"".concat(e)},"..."):null})):void 0:i.default.createElement("span",{key:"all",style:{padding:"6px 10px",border:"1px solid #e6e6e6",marginRight:6}},"\u6240\u6709\u8bbe\u5907")}),this.getFilterItems=(e=>{return[{text:"\u72b6\u6001",name:"state",value:e.state,type:"select",allowClear:!0,style:{width:150},options:[{text:"\u5168\u90e8",value:""},{text:"\u5907\u4efd\u4e2d",value:"HANDLE"},{text:"\u5df2\u53d6\u6d88",value:"CANCELED"},{text:"\u5df2\u5b8c\u6210",value:"COMPLETED"}]},{text:"\u8bbe\u5907\u5e8f\u5217\u53f7",name:"sn",value:e.sn,type:"input"},{text:"\u65f6\u95f4",name:"date",value:e.date,type:"daterange"}]}),this.add=((e,t)=>{var a=this.props.dispatch;a({type:"exportConfig/add",payload:{values:e},callback:{onSuccess:t}})}),this.refresh=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,n=t.props.dispatch;n({type:"exportConfig/fetch",payload:{filter:e,pageNo:a,pageSize:r}})},this.cancelSend=(e=>{var t=e.id,a=this.props.dispatch;a({type:"exportConfig/cancelSend",payload:{id:t}})}),this.queryRate=(e=>{var t=e.id,a=this.props,r=a.showProgress,n=a.dispatch;n({type:"exportConfig/queryProgress",payload:{filter:{id:t}}}),r&&r(t)}),this.showFormModal=(()=>{this.setState({addModalVisible:!0})}),this.hideFormModal=(()=>{this.setState({addModalVisible:!1})}),this.render=(()=>{var e=this.props,t=e.loading,a=e.exportConfig,r=e.addLoading,n=(e.app.user,this.state.addModalVisible);return i.default.createElement("div",null,i.default.createElement(o.Grid,{formprop:{initNums:4,wrappedComponentRef:e=>this.QueryForm=e},filterInline:!0,filterItems:this.getFilterItems(a.filter),wrappedComponentRef:e=>this.filterForm=e,columns:this.columns,loading:t,data:a,refersh:this.refresh,toolBtns:2!=sessionStorage.getItem("roleId")?[{icon:"upload",text:"\u6279\u91cf\u5907\u4efd\u914d\u7f6e",handler:this.showFormModal}]:[],actions:2!=sessionStorage.getItem("roleId")?[{text:"\u8fdb\u5ea6\u67e5\u8be2",handler:this.queryRate},{text:"\u53d6\u6d88",confirm:"\u8bf7\u786e\u8ba4\u53d6\u6d88!",check:e=>{return"HANDLE"===e.state},handler:this.cancelSend}]:[{text:"\u8fdb\u5ea6\u67e5\u8be2",handler:this.queryRate}]}),i.default.createElement(s.default,{visible:n,onSubmit:this.add,onClose:this.hideFormModal,loading:r}))}),this.state={addModalVisible:!1},this.columns=[{title:"\u72b6\u6001",dataIndex:"state",render:e=>{return"HANDLE"===e?"\u5907\u4efd\u4e2d":"CANCELED"===e?"\u5df2\u53d6\u6d88":"\u5df2\u5b8c\u6210"}},{title:"\u8fdb\u5ea6",dataIndex:"rate",render:(e,t)=>{return i.default.createElement("span",null,t.success,"/",t.total)}},{title:"\u8303\u56f4",dataIndex:"range",render:e=>{return this.rangeDiv(e)}},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"createAt"},{title:"\u5f00\u59cb\u65f6\u95f4",dataIndex:"start"}]}}function f(e){var t=e.exportConfig,a=e.loading,r=e.app;return{app:r,exportConfig:t,loading:a.effects["exportConfig/fetch"],addLoading:a.effects["exportConfig/add"]}}var p=(0,l.connect)(f)(c);t.default=p},KlRl:function(e,t,a){"use strict";var r=a("mZ4U");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("26gd");var n=r(a("1GiV")),l=r(a("xwgP")),i=(r(a("s21K")),a("pG04"));class o extends l.default.Component{constructor(e){super(e),this.getFields=(()=>{return[{text:"\u9009\u62e9\u6587\u4ef6",name:"file",type:"upload",labelcol:6,validate:[{rules:[{required:!0,message:"\u9009\u62e9\u6587\u4ef6\u4e0a\u4f20"}],trigger:["onBlur","onChange"]}],url:"/api/dev_config/import",fileSizeLimit:50,onSuccess:e=>{var t=this.props.onSuccess;this.setState({loading:!1}),e.success?(n.default.info("\u5bfc\u5165\u6210\u529f"),t()):n.default.error(e.message)},onError:e=>{n.default.error("\u5bfc\u5165\u5931\u8d25"),this.setState({loading:!1})}}]}),this.upload=(e=>{this.setState({loading:!0})}),this.render=(()=>{var e=this.props,t=e.visible,a=e.onClose,r=this.state.loading;return l.default.createElement(i.Form.Modal,{title:"\u4e0a\u4f20\u914d\u7f6e\u6587\u4ef6",visible:t,fields:this.getFields(),confirmLoading:r,onCancel:a,onSubmit:this.upload})}),this.state={loading:!1}}}t.default=o},LPP3:function(e,t,a){"use strict";var r=a("mZ4U");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("exa0");var n=r(a("KiF4"));a("C1KP");var l=r(a("d6B9")),i=r(a("zAuD")),o=u(a("xwgP")),s=r(a("guZp"));function d(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(d=function(e){return e?a:t})(e)}function u(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=d(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=n?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(r,l,i):r[l]=e[l]}return r.default=e,a&&a.set(e,r),r}var c={labelCol:{xs:{span:24},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:20}}};class f extends o.Component{constructor(e){super(e),this.onClose=(()=>{var e=this.props.onClose;e&&e()}),this.afterClose=(()=>{var e=this.props.form;this.setState({selectValue:""}),e&&e.resetFields()}),this.handleOk=(e=>{var t=this.props.onSubmit;e.preventDefault(),this.props.form.validateFields((e,a)=>{e||t&&t(a)})}),this.selectOnChange=(e=>{this.setState({selectValue:e});var t=this.props.form;t.setFieldsValue({configId:""})}),this.formFixedItems=(()=>{var e=this.props.form.getFieldDecorator;return o.default.createElement(o.Fragment,null,o.default.createElement(l.default.Item,(0,i.default)({},c,{label:"\u8bbe\u5907",required:!0,key:"\u8bbe\u5907"}),e("sn",{validateTrigger:["onChange","onBlur"],rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u8bbe\u5907"}]})(o.default.createElement(s.default,{dataUrl:"/dev/list",textName:"sn",valueName:"sn",searchName:"sn",onChange:this.selectOnChange,placeholder:"\u8bf7\u9009\u62e9\u8bbe\u5907"}))))}),this.snFormItems=(()=>{var e=this.state.selectValue,t=this.props.form.getFieldDecorator;return o.default.createElement(l.default.Item,(0,i.default)({},c,{label:"\u914d\u7f6e\u540d",required:!0,key:"\u914d\u7f6e\u540d"}),t("configId",{validateTrigger:["onChange","onBlur"],rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u914d\u7f6e\u540d"}]})(o.default.createElement(s.default,{dataUrl:"/exportConfig/queryConfig",textName:"name",valueName:"id",searchName:"name",paramName:"sn",paramValue:e,placeholder:"\u8bf7\u9009\u62e9\u914d\u7f6e\u540d"})))}),this.render=(()=>{var e=this.props,t=e.visible,a=e.loading,r=this.state.selectValue;return o.default.createElement(n.default,{title:"\u6062\u590d\u914d\u7f6e",visible:t,onOk:this.handleOk,onCancel:this.onClose,afterClose:this.afterClose,width:620,confirmLoading:a},o.default.createElement("div",{style:{height:150,overflowY:"auto"}},this.formFixedItems(),r?this.snFormItems():null))}),this.state={selectValue:""}}}var p=l.default.create()(f);t.default=p},Xlnj:function(e,t,a){"use strict";var r=a("mZ4U");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=p(a("xwgP"));a("WguZ");var l=r(a("spxj")),i=a("8ur3"),o=r(a("/Q1f")),s=r(a("kkCl")),d=r(a("u2eV")),u=r(a("GxFG")),c=r(a("mmLe"));function f(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(f=function(e){return e?a:t})(e)}function p(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=f(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=n?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(r,l,i):r[l]=e[l]}return r.default=e,a&&a.set(e,r),r}var h=l.default.TabPane;class g extends n.Component{constructor(e){super(e),this.onChange=(e=>{var t=this.props.dispatch;"config"===e?t({type:"devconfig/fetch"}):"deliver"===e?t({type:"devstrategy/fetch"}):"backup"===e&&t({type:"exportConfig/fetch"}),this.setState({showTab:e})}),this.gotoProgress=((e,t)=>{this.setState({progress:!0,strategyId:e,configState:t})}),this.gotoConfig=(e=>{this.setState({config:!0,strategyId:e})}),this.backPage=(()=>{var e=this.props.dispatch;e({type:"devstrategy/clernProgress"}),this.setState({progress:!1,showTab:"deliver",strategyId:"",configState:""})}),this.backExportPage=(()=>{var e=this.props.dispatch;e({type:"exportConfig/clernProgress"}),this.setState({config:!1,showTab:"backup",strategyId:""})}),this.backToRestore=(()=>{var e=this.props.dispatch;e({type:"devstrategy/cleanFilter"}),this.setState({config:!1,showTab:"deliver",strategyId:"",configState:""})}),this.render=(()=>{var e=this.state,t=e.showTab,a=e.progress,r=e.strategyId,i=e.configState,f=e.config;return a?n.default.createElement("div",null,n.default.createElement(d.default,{backFunc:this.backPage,strategyId:r,configState:i})):f?n.default.createElement("div",null,n.default.createElement(c.default,{backFunc:this.backExportPage,backToRestore:this.backToRestore,strategyId:r})):n.default.createElement("div",null,n.default.createElement(l.default,{defaultActiveKey:t,onChange:this.onChange},n.default.createElement(h,{tab:"\u914d\u7f6e\u5217\u8868",key:"config"},n.default.createElement(o.default,null)),n.default.createElement(h,{tab:"\u914d\u7f6e\u4e0b\u53d1",key:"deliver"},n.default.createElement(s.default,{showProgress:this.gotoProgress})),n.default.createElement(h,{tab:"\u914d\u7f6e\u5907\u4efd",key:"backup"},n.default.createElement(u.default,{showProgress:this.gotoConfig}))))}),this.state={showTab:"devconfig",progress:!1,backup:!1,strategyId:"",configState:""}}}function m(e){var t=e.devconfig,a=e.loading;return{devconfig:t,loading:a.models.devconfig}}var v=(0,i.connect)(m)(g);t.default=v},kkCl:function(e,t,a){"use strict";var r=a("mZ4U");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("6/yB");var n=r(a("SE39"));a("exa0");var l=r(a("KiF4"));a("U2gH");var i=r(a("kT6h")),o=a("8ur3"),s=p(a("xwgP")),d=a("pG04"),u=r(a("rkKg")),c=r(a("LPP3"));function f(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(f=function(e){return e?a:t})(e)}function p(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=f(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=n?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(r,l,i):r[l]=e[l]}return r.default=e,a&&a.set(e,r),r}class h extends s.Component{constructor(e){var t;super(e),t=this,this.getFilterItems=(e=>{return[{text:"\u72b6\u6001",name:"configState",value:e.configState,type:"select",allowClear:!0,style:{width:120},options:[{text:"\u5168\u90e8",value:""},{text:"\u51c6\u5907\u4e2d",value:"WAITING"},{text:"\u4e0b\u53d1\u4e2d",value:"HANDLE"},{text:"\u5df2\u53d6\u6d88",value:"CANCELED"},{text:"\u5df2\u5b8c\u6210",value:"COMPLETED"}]},{text:"\u914d\u7f6e\u540d",name:"config",value:e.config,type:"input"},{text:"\u8bbe\u5907\u5e8f\u5217\u53f7",name:"sn",value:e.sn,type:"input"},{text:"\u540d\u79f0",name:"name",value:e.name,type:"input"},{text:"\u65f6\u95f4",name:"date",value:e.date,type:"daterange"}]}),this.snContent=(e=>{return s.default.createElement("div",{style:{width:302,minHeight:100}},e.map((e,t)=>{return s.default.createElement("span",{key:"".concat(e).concat(t),style:{display:"inline-block",padding:"6px 10px",border:"1px solid #e6e6e6",marginRight:8,marginBottom:8}},e)}))}),this.addsContent=(e=>{return s.default.createElement("div",{style:{width:302,minHeight:100}},e.map((e,t)=>{return s.default.createElement("span",{key:"".concat(e).concat(t),style:{display:"inline-block",padding:"6px 10px",border:"1px solid #e6e6e6",marginRight:8,marginBottom:8}},"".concat(e[0]).concat(e.length>1&&e[1]?"/".concat(e[1]):"").concat(e.length>2&&e[2]?"/".concat(e[2]):""))}))}),this.rangeDiv=(e=>{return e?"sn"===e.type?s.default.createElement(i.default,{content:this.snContent(e.value),title:"\u8bbe\u5907\u5e8f\u5217\u53f7"},e.value.map((e,t)=>{return t<3?s.default.createElement("span",{key:"".concat(e),style:{padding:"6px 10px",border:"1px solid #e6e6e6",marginRight:6}},e):3===t?s.default.createElement("span",{key:"".concat(e)},"..."):null})):"adds"===e.type||"label"===e.type?s.default.createElement(i.default,{content:this.addsContent(e.value),title:"adds"===e.type?"\u5730\u533a":"\u6807\u7b7e"},e.value.map((e,t)=>{return t<1?s.default.createElement("span",{key:"".concat(e),style:{padding:"6px 10px",border:"1px solid #e6e6e6",marginRight:6}},"".concat(e[0]).concat(e.length>1&&e[1]?"/".concat(e[1]):"").concat(e.length>2&&e[2]?"/".concat(e[2]):"")):1===t?s.default.createElement("span",{key:"".concat(e)},"..."):null})):void 0:s.default.createElement("span",{key:"all",style:{padding:"6px 10px",border:"1px solid #e6e6e6",marginRight:6}},"\u6240\u6709\u8bbe\u5907")}),this.showConfigContent=(e=>{this.setState({configVisible:!0,configContent:e.configContent})}),this.cancelShow=(()=>{this.setState({configVisible:!1})}),this.refersh=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,n=t.props.dispatch;n({type:"devstrategy/fetch",payload:{filter:e,pageNo:a,pageSize:r}})},this.queryRate=(e=>{var t=e.id,a=e.configState,r=this.props,n=r.showProgress,l=r.dispatch;l({type:"devstrategy/queryProgress",payload:{filter:{id:t}}}),n&&n(t,a)}),this.sendConfig=(e=>{var t=e.id,a=this.props.dispatch;a({type:"devstrategy/sendConfig",payload:{id:t}})}),this.cancelSend=(e=>{var t=e.id,a=this.props.dispatch;a({type:"devstrategy/cancelSend",payload:{id:t}})}),this.add=((e,t)=>{var a=this.props.dispatch;a({type:"devstrategy/add",payload:{values:e},callback:{onSuccess:t}})}),this.edit=((e,t)=>{var a=this.props.dispatch;a({type:"devstrategy/edit",payload:{values:e},callback:{onSuccess:()=>{this.hideFormModal()}}})}),this.showFormModal=(e=>{this.setState({addModalVisible:!0,editRowData:e})}),this.hideFormModal=(e=>{this.setState({addModalVisible:!1,editRowData:""})}),this.showPullModal=(()=>{this.setState({pullVisible:!0})}),this.hidePullModal=(()=>{this.setState({pullVisible:!1})}),this.restore=(e=>{var t=this.props.dispatch;t({type:"devstrategy/restoreDevConfig",payload:{id:e.configId},callback:{onSuccess:this.hidePullModal}})}),this.render=(()=>{var e=this.props,t=e.loading,a=e.devstrategy,r=e.addLoading,n=e.editLoading,i=e.restoreLoading,o=(e.app.user,this.state),f=o.addModalVisible,p=o.editRowData,h=o.configVisible,g=o.configContent,m=o.pullVisible;return s.default.createElement("div",null,s.default.createElement(d.Grid,{formprop:{initNums:5},filterInline:!0,filterItems:this.getFilterItems(a.filter),columns:this.columns,loading:t,data:a,refersh:this.refersh,delAction:e=>{return"HANDLE"===e.configState},toolBtns:2!=sessionStorage.getItem("roleId")?[{icon:"plus-circle",text:"\u4e0b\u53d1\u914d\u7f6e",handler:this.showFormModal},{icon:"cloud-download",text:"\u6062\u590d\u914d\u7f6e",handler:this.showPullModal}]:[],actions:2!=sessionStorage.getItem("roleId")?[{text:"\u7f16\u8f91",check:e=>{return"WAITING"===e.configState},handler:e=>{this.showFormModal(e)}},{text:"\u8fdb\u5ea6\u67e5\u8be2",check:e=>{return"WAITING"!==e.configState},handler:e=>{this.queryRate(e)}},{text:"\u4e0b\u53d1\u914d\u7f6e",confirm:"\u8bf7\u786e\u8ba4\u4e0b\u53d1\u914d\u7f6e!",check:e=>{return"WAITING"===e.configState},handler:e=>{this.sendConfig(e)}},{text:"\u53d6\u6d88\u4e0b\u53d1",confirm:"\u8bf7\u786e\u8ba4\u53d6\u6d88\u4e0b\u53d1!",check:e=>{return"HANDLE"===e.configState},handler:e=>{this.cancelSend(e)}}]:[{text:"\u8fdb\u5ea6\u67e5\u8be2",check:e=>{return"WAITING"!==e.configState},handler:e=>{this.queryRate(e)}}]}),s.default.createElement(u.default,{rowData:p,visible:f,onSubmit:this.add,edit:this.edit,loading:r||n,onClose:this.hideFormModal}),s.default.createElement(c.default,{visible:m,onClose:this.hidePullModal,onSubmit:this.restore,loading:i}),s.default.createElement(l.default,{title:"\u914d\u7f6e\u9879",visible:h,footer:null,width:600,onCancel:this.cancelShow,bodyStyle:{paddingBottom:0}},s.default.createElement("textarea",{style:{width:"100%"},rows:20,value:g,readOnly:!0})))}),this.state={pullVisible:!1,addModalVisible:!1,editRowData:""},this.columns=[{title:"\u72b6\u6001",dataIndex:"configState",render:e=>{return"WAITING"===e?"\u51c6\u5907\u4e2d":"HANDLE"===e?"\u4e0b\u53d1\u4e2d":"CANCELED"===e?"\u5df2\u53d6\u6d88":"\u5df2\u5b8c\u6210"}},{title:"\u540d\u79f0",dataIndex:"name"},{title:"\u914d\u7f6e\u540d",dataIndex:"configName",render:(e,t)=>{return e?s.default.createElement(n.default,{placement:"top",title:e,arrowPointAtCenter:!0},s.default.createElement("a",{onClick:()=>this.showConfigContent(t)},e.length>25?"".concat(e.substring(0,25),"..."):e)):"-"}},{title:"\u8fdb\u5ea6",dataIndex:"rate",render:(e,t)=>{return"WAITING"===t.configState?s.default.createElement("span",null,"\u51c6\u5907\u4e2d"):s.default.createElement("span",null,t.success,"/",t.total)}},{title:"\u8303\u56f4",dataIndex:"range",render:e=>{return this.rangeDiv(e)}},{title:"\u4e0b\u53d1\u65f6\u95f4",dataIndex:"start",render:(e,t)=>{var a=t.end;return s.default.createElement("div",null,s.default.createElement("span",null,e||"\u6682\u672a\u4e0b\u53d1"),a?s.default.createElement("span",null," -- "):null,a?s.default.createElement("span",null,a):null)}},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"createTime"}]}}function g(e){var t=e.devstrategy,a=e.loading,r=e.app;return{app:r,devstrategy:t,loading:a.models.devstrategy,addLoading:a.effects["devstrategy/add"],editLoading:a.effects["devstrategy/edit"],restoreLoading:a.effects["devstrategy/restoreDevConfig"]}}var m=(0,o.connect)(g)(h);t.default=m},mmLe:function(e,t,a){"use strict";var r=a("mZ4U");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("6/yB");var n=r(a("SE39"));a("exa0");var l=r(a("KiF4"));a("NWD0");var i=r(a("2L3m"));a("4ADO");var o=r(a("wty1"));a("SMEU");var s=r(a("xc0u"));a("26gd");var d=r(a("1GiV"));a("iRon");var u=r(a("B0Ox")),c=a("8ur3"),f=m(a("xwgP")),p=a("pG04"),h=r(a("aP11"));function g(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(g=function(e){return e?a:t})(e)}function m(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=g(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=n?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(r,l,i):r[l]=e[l]}return r.default=e,a&&a.set(e,r),r}class v extends f.Component{constructor(e){var t;super(e),t=this,this.getFilterItems=(()=>{var e=this.props.strategyId;return[{text:"\u5907\u4efd\u7ed3\u679c",name:"state",type:"select",allowClear:!0,style:{width:120},options:[{text:"\u5168\u90e8",value:null},{text:"\u51c6\u5907\u4e2d",value:"WAITING"},{text:"\u5df2\u5b8c\u6210",value:"COMPLETED"},{text:"\u5df2\u5931\u8d25",value:"FAILED"},{text:"\u5df2\u5220\u9664",value:"DELETE"},{text:"\u5df2\u53d6\u6d88",value:"CANCELED"}]},{text:"\u8bbe\u5907",name:"sn",type:"input"},{text:"",name:"id",type:"hide",value:e}]}),this.refresh=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,n=t.props.dispatch;n({type:"exportConfig/queryProgress",payload:{filter:e,pageNo:a,pageSize:r}})},this.showConfigContent=(e=>{this.setState({configVisible:!0,configContent:e.configContent})}),this.cancelShow=(()=>{this.setState({configVisible:!1})}),this.onRestoreClick=(e=>{var t=this.props,a=t.dispatch,r=t.backToRestore,n=[];n.push(e.id),a({type:"exportConfig/restoreConfig",payload:{ids:n.join(",")},callback:{onSuccess:()=>{r()}}})}),this.onExportClick=(e=>{var t=this.props.dispatch;t({type:"exportConfig/reExportConfig",payload:{id:e.id}})}),this.onDownloadClick=(e=>{window.open("/api/exportConfig/download?id=".concat(e.id))}),this.edit=((e,t)=>{var a=this.props.dispatch;a({type:"exportConfig/edit",payload:{id:e.id,name:e.name},callback:t})}),this.del=(e=>{var t=e.id,a=this.props.dispatch;a({type:"exportConfig/del",payload:{id:t}})}),this.onRowSelectChange=(e=>{this.setState({selectedRowKeys:e})}),this.hasConfig=(e=>{var t=this.props.exportConfig,a=t.progress.list.find(t=>t.id===e);return a.config}),this.getRestoreMenu=(()=>{return[f.default.createElement(u.default.Item,{key:"all"},"\u6062\u590d\u5168\u90e8"),f.default.createElement(u.default.Item,{key:"batch"},"\u6062\u590d\u9009\u4e2d")]}),this.restoreMenuClick=(e=>{var t=e.key,a=this.props,r=a.dispatch,n=a.backToRestore,l=a.strategyId;if("all"===t)r({type:"exportConfig/restoreAllConfig",payload:{id:l},callback:{onSuccess:()=>{n()}}});else{var i=this.state.selectedRowKeys,o=[];if(i.length>0)for(var s in i){var u=i[s];this.hasConfig(u)&&o.push(u)}o.length>0?r({type:"exportConfig/restoreConfig",payload:{ids:o.join(",")},callback:{onSuccess:()=>{n()}}}):d.default.warn("\u8bf7\u9009\u62e9\u6709\u5907\u4efd\u914d\u7f6e\u7684\u8bbe\u5907")}}),this.render=(()=>{var e=this.props,t=e.loading,a=e.backFunc,r=e.exportConfig,n=e.app.user,d=this.state,u=d.configVisible,c=d.configContent;return f.default.createElement("div",null,f.default.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between"}},f.default.createElement("span",{style:{fontSize:16,fontWeight:"bold",color:"#333",marginBottom:25,lineHeight:"32px"}},"\u914d\u7f6e\u5907\u4efd\u8be6\u60c5"),f.default.createElement(s.default,{type:"primary",onClick:a},"\u8fd4\u56de")),f.default.createElement(i.default,null,f.default.createElement(o.default,{span:6},f.default.createElement("div",{style:{fontSize:16,color:"#333",textAlign:"center",marginTop:50}},"\u5907\u4efd\u6210\u529f\u7387"),f.default.createElement("div",{style:{position:"relative",width:90,height:90,margin:"40px auto"}},f.default.createElement(h.default,{color:"#13c2c2",finishColor:"#000",percent:0===r.finishCount?0:parseInt(r.finishCount/r.rebootCount*100,10)}),f.default.createElement("div",{style:{position:"absolute",top:33,left:0,zIndex:9999,width:"100%",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"}},f.default.createElement("span",{style:{fontSize:24,color:"#13c2c2",fontWeight:"bold"}},0===r.finishCount?0:parseInt(r.finishCount/r.rebootCount*100,10)),f.default.createElement("span",{style:{fontSize:12,color:"#13c2c2"}},"%"))),f.default.createElement("div",{style:{display:"flex",flexDirection:"column"}},f.default.createElement("div",{style:{fontSize:16,color:"#333",textAlign:"center",marginBottom:15}},"\u5168\u90e8: ",r.rebootCount,"\u53f0"),f.default.createElement("div",{style:{fontSize:16,color:"#333",textAlign:"center",marginBottom:15}},"\u5df2\u5907\u4efd: ",r.finishCount,"\u53f0"))),f.default.createElement(o.default,{span:18},f.default.createElement(p.Grid,{onRowSelectChange:2!=sessionStorage.getItem("roleId")&&this.onRowSelectChange,formprop:{initNums:4},filterInline:!0,filterItems:this.getFilterItems(),columns:this.columns,loading:t,data:r.progress,refersh:this.refresh,del:2!==n.roleId&&this.del,deleteConfirm:"\u786e\u8ba4\u5220\u9664\u914d\u7f6e\u6587\u4ef6?",delAction:e=>{return e.config&&"WAITING"!==e.state},editFields:this.editFields,edit:2!==n.roleId&&this.edit,editAction:e=>{return e.config&&"WAITING"!==e.state},toolBtns:2!==n.roleId?[{text:"\u6279\u91cf\u6062\u590d\u914d\u7f6e",btnType:"menu",menuItems:this.getRestoreMenu(),onMenuClick:this.restoreMenuClick,handleSelected:!0}]:[],actions:2!==n.roleId?[{text:"\u91cd\u65b0\u5907\u4efd",confirm:"\u8bf7\u786e\u8ba4\u5907\u4efd\u914d\u7f6e!",check:e=>{return!e.config&&"WAITING"!==e.state},handler:e=>{this.onExportClick(e)}},{text:"\u4e0b\u8f7d\u914d\u7f6e",check:e=>{return e.config},handler:e=>{this.onDownloadClick(e)}},{text:"\u6062\u590d\u914d\u7f6e",confirm:"\u8bf7\u786e\u8ba4\u6062\u590d\u914d\u7f6e!",check:e=>{return e.config},handler:e=>{this.onRestoreClick(e)}}]:[]}))),f.default.createElement(l.default,{title:"\u914d\u7f6e\u9879",visible:u,footer:null,width:600,onCancel:this.cancelShow,bodyStyle:{paddingBottom:0}},f.default.createElement("textarea",{style:{width:"100%"},rows:20,value:c,readOnly:!0})))}),this.state={showTab:"strategy",selectedRowKeys:[]};var a=this.props.app.constants;a=void 0===a?{}:a;var r=a.state,c=void 0===r?[]:r,g=c;this.columns=[{title:"\u8bbe\u5907\u5e8f\u5217\u53f7",dataIndex:"sn"},{title:"\u5907\u4efd\u7ed3\u679c",dataIndex:"state",render:(e,t)=>{return"DELETE"===e?"\u5df2\u5220\u9664":"COMPLETED"===e?"\u5df2\u5b8c\u6210":"FAILED"===e?"\u5df2\u5931\u8d25(".concat(g["".concat(t.reason)],")"):"WAITING"===e?"\u51c6\u5907\u4e2d":"CANCELED"===e?"\u5df2\u53d6\u6d88":void 0}},{title:"\u914d\u7f6e\u6587\u4ef6",dataIndex:"name",render:(e,t)=>{return e?f.default.createElement(n.default,{placement:"top",title:e,arrowPointAtCenter:!0},f.default.createElement("a",{onClick:()=>this.showConfigContent(t)},e.length>25?"".concat(e.substring(0,25),"..."):e)):"-"}}],this.editFields=[{text:"",name:"id",type:"hide"},{text:"\u914d\u7f6e\u540d\u79f0",name:"name",type:"input",labelcol:6,validate:[{rules:[{required:!0,message:"\u8bf7\u586b\u5199\u914d\u7f6e\u540d\u79f0"}],trigger:["onBlur","onChange"]}]}]}}function y(e){var t=e.app,a=e.exportConfig,r=e.devstrategy,n=e.loading;return{app:t,exportConfig:a,devstrategy:r,loading:n.models.exportConfig}}var b=(0,c.connect)(y)(v);t.default=b},rkKg:function(e,t,a){"use strict";var r=a("mZ4U");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("exa0");var n=r(a("KiF4"));a("SMEU");var l=r(a("xc0u"));a("Mf8d");var i=r(a("4OHk"));a("nPjb");var o=r(a("nKmx"));a("C1KP");var s=r(a("d6B9")),d=r(a("zAuD"));a("26gd");var u=r(a("1GiV"));a("vJ22");var c=r(a("BPQb")),f=a("8ur3"),p=y(a("xwgP")),h=r(a("J1Jx")),g=r(a("pOAv")),m=r(a("guZp"));function v(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(v=function(e){return e?a:t})(e)}function y(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=v(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=n?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(r,l,i):r[l]=e[l]}return r.default=e,a&&a.set(e,r),r}function b(e,t){var a="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=C(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,i=!0,o=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return i=e.done,e},e:function(e){o=!0,l=e},f:function(){try{i||null==a.return||a.return()}finally{if(o)throw l}}}}function C(e,t){if(e){if("string"===typeof e)return E(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?E(e,t):void 0}}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}var x=0,w=c.default.Group,k={labelCol:{xs:{span:24},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:20}}},I={wrapperCol:{xs:{span:24,offset:0},sm:{span:20,offset:4}}};class S extends p.Component{constructor(e){super(e),this.remove=(e=>{var t=this.props.form,a=t.getFieldValue("keys");1!==a.length&&t.setFieldsValue({keys:a.filter(t=>t!==e)})}),this.add=(()=>{var e=this.props.form,t=e.getFieldValue("keys");if(t.length>=6)u.default.error("\u4e00\u6b21\u6700\u591a\u8bbe\u7f6e6\u4e2a\u6761\u76ee");else{var a=t.concat(x++);e.setFieldsValue({keys:a})}}),this.onClose=(()=>{var e=this.props,t=e.onClose,a=e.form;a&&a.resetFields(),this.setState({rangeValue:void 0,snData:void 0}),t&&t()}),this.handleOk=(e=>{var t=this.props,a=t.onSubmit,r=t.edit,n=t.rowData;e.preventDefault(),this.props.form.validateFields((e,t)=>{if(!e){var l=[],i=!1;if("adds"===t.range){var o,s=b(t.keys);try{var d=function(){var e=o.value,a={},r="adds"+e,n=void 0;n=Array.isArray(t[r])?t[r]:t[r].split(","),a.country=n[0],a.region=n[1],a.locality=n[2];var s=l.find(e=>e.country===a.country&&e.region===a.region&&e.locality===a.locality);if(s)return u.default.error("\u5b58\u5728\u76f8\u540c\u7684\u5730\u533a\uff0c\u8bf7\u4fee\u6539!"),i=!0,{v:void 0};l.push(a)};for(s.s();!(o=s.n()).done;){var c=d();if("object"===typeof c)return c.v}}catch(e){s.e(e)}finally{s.f()}if(0===l.length)return void u.default.error("\u8bf7\u5148\u6dfb\u52a0\u5730\u533a")}else if("label"===t.range){var f,p=b(t.keys);try{var h=function(){var e=f.value,a={},r="labels"+e,n=t[r];a.title=n[0],a.content=n[1];var o=l.find(e=>e.title===a.title&&e.content===a.content);if(o)return u.default.error("\u5b58\u5728\u76f8\u540c\u7684\u6807\u7b7e\uff0c\u8bf7\u4fee\u6539!"),i=!0,{v:void 0};l.push(a)};for(p.s();!(f=p.n()).done;){var g=h();if("object"===typeof g)return g.v}}catch(e){p.e(e)}finally{p.f()}if(0===l.length)return void u.default.error("\u8bf7\u5148\u6dfb\u52a0\u6807\u7b7e")}else l=t.sn;i||("adds"===t.range&&t.keys.forEach(e=>{t["adds"+e].constructor===String&&(t["adds"+e]=t["adds"+e].split(",")),t["adds"+e]=t["adds"+e].filter(e=>e)}),t.rangeValue=JSON.stringify(l),n&&n.id?(t.id=n&&n.id,r(t)):a&&a(t,this.onClose))}})}),this.labelOnChange=(e=>{var t=this.props,a=t.form,r=t.rowData,n=[];if(r&&r.range&&r.range.type===e.target.value&&r.range.value&&r.range.value.length)for(var l=0;l<r.range.value.length;l++)n.push(l);a.setFieldsValue({keys:n}),this.setState({rangeValue:e.target.value,snData:void 0})}),this.formFixedItems=(()=>{var e=this.props.rowData,t=this.props.form.getFieldDecorator;return p.default.createElement(p.Fragment,null,p.default.createElement(s.default.Item,(0,d.default)({},k,{label:"\u914d\u7f6e\u540d",required:!0,key:"\u914d\u7f6e\u540d"}),t("configId",{initialValue:e.configId,validateTrigger:["onChange","onBlur"],rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u4e0b\u53d1\u914d\u7f6e"}]})(p.default.createElement(m.default,{dataUrl:"/dev_config/getConfigs",textName:"name",valueName:"id",searchName:"name",paramName:"t",paramValue:(new Date).getTime(),placeholder:"\u8bf7\u9009\u62e9\u914d\u7f6e\u540d"}))),p.default.createElement(s.default.Item,(0,d.default)({},k,{label:"\u540d\u79f0",required:!0,key:"\u540d\u79f0"}),t("name",{initialValue:e.name,validateTrigger:["onChange","onBlur"],rules:[{required:!0,message:"\u8bf7\u586b\u5199\u7b56\u7565\u540d\u79f0"}]})(p.default.createElement(o.default,{placeholder:"\u8bf7\u586b\u5199\u7b56\u7565\u540d\u79f0"}))),p.default.createElement(s.default.Item,(0,d.default)({},k,{label:"\u8303\u56f4",required:!0,key:"\u8303\u56f4"}),t("range",{initialValue:e.range&&e.range.type?e.range.type:e.all?"all":null,validateTrigger:["onChange","onBlur"],rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u8303\u56f4\u7c7b\u578b"}]})(p.default.createElement(w,{onChange:this.labelOnChange},p.default.createElement(c.default,{value:"all"},"\u6240\u6709\u8bbe\u5907"),p.default.createElement(c.default,{value:"sn"},"\u8bbe\u5907"),p.default.createElement(c.default,{value:"adds"},"\u5730\u533a"),p.default.createElement(c.default,{value:"label"},"\u6807\u7b7e")))))}),this.snFormItems=(()=>{var e=this.state.snData,t=this.props.form.getFieldDecorator,a=this.props.app.user;return p.default.createElement(s.default.Item,(0,d.default)({},k,{label:"\u8bbe\u5907\uff1a",required:!0,key:"\u8bbe\u5907"}),t("sn",{initialValue:e,validateTrigger:["onChange","onBlur"],rules:[{validator:(e,t,a)=>{t&&""!=t&&0!=t.length?t.length>50?a("\u4e00\u6b21\u6700\u591a\u9009\u62e950\u53f0\u8bbe\u5907"):a():a("\u8bf7\u9009\u62e9\u8bbe\u5907")}}]})(p.default.createElement(m.default,{dataUrl:a.companyUser?"/dev/list":"/dev/list?companyId=-1",textName:"sn",valueName:"sn",searchName:"sn",paramName:"t",paramValue:(new Date).getTime(),formProps:{mode:"multiple",placeholder:"\u8bf7\u9009\u62e9\u8bbe\u5907"}})))}),this.addsFormItems=(()=>{var e=this.props.rowData,t=this.props.form,a=t.getFieldValue,r=t.getFieldDecorator,n=a("keys"),l=n.map((t,a)=>p.default.createElement(p.Fragment,{key:"\u5730\u533a".concat(t).concat(a)},p.default.createElement(s.default.Item,(0,d.default)({},0===a?k:I,{label:0===a?"\u5730\u533a\uff1a":"",required:!0,key:"\u5730\u533a".concat(t)}),r("adds".concat(t),{initialValue:e.range&&e.range.value.length>a?e.range.value[t]:null,validateTrigger:["onChange","onBlur"],rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u5730\u533a"}]})(p.default.createElement(h.default,null)),p.default.createElement(i.default,{style:{marginLeft:10},className:"dynamic-delete-button",type:"minus-circle-o",onClick:()=>this.remove(t)}))));return l}),this.labelFormItems=(()=>{var e=this.props.rowData,t=this.props.form,a=t.getFieldValue,r=t.getFieldDecorator,n=a("keys"),l=n.map((t,a)=>p.default.createElement(p.Fragment,{key:"\u6807\u7b7e".concat(t).concat(a)},p.default.createElement(s.default.Item,(0,d.default)({},0===a?k:I,{label:0===a?"\u6807\u7b7e\uff1a":"",required:!0,key:"\u6807\u7b7e".concat(t)}),r("labels".concat(t),{initialValue:e.range&&e.range.value.length>a?e.range.value[t]:null,validateTrigger:["onChange","onBlur"],rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u6807\u7b7e"}]})(p.default.createElement(g.default,{width:452})),p.default.createElement(i.default,{style:{marginLeft:10},className:"dynamic-delete-button",type:"minus-circle-o",onClick:()=>this.remove(t)}))));return l}),this.render=(()=>{var e=this.props,t=e.visible,a=e.rowData,r=e.loading,o=this.state,s=o.rangeValue,d=o.snData,u=this.props.form.getFieldDecorator,c=[];if(a.range&&a.range.value&&a.range.value.length){x+=a.range.value.length;var f=0;while(f<a.range.value.length)c.push(f),f++}return u("keys",{initialValue:c}),p.default.createElement(n.default,{title:a.id?"\u7f16\u8f91":"\u6dfb\u52a0",visible:t,onOk:this.handleOk,onCancel:this.onClose,confirmLoading:r,width:650},p.default.createElement("div",{style:{height:500,overflowY:"auto"}},this.formFixedItems(),"sn"===s||d?this.snFormItems():"adds"===s?this.addsFormItems():"label"===s?this.labelFormItems():null,"adds"===s||"label"===s?p.default.createElement(l.default,{type:"dashed",onClick:this.add,style:{width:"60%",marginLeft:"20%"}},p.default.createElement(i.default,{type:"plus"})," \u6dfb\u52a0"):null))}),this.state={rangeValue:e.rowData&&e.rowData.range&&e.rowData.range.type||"",snData:e.rowData&&e.rowData.range&&"sn"===e.rowData.range.type?e.rowData.range.value:void 0}}componentWillReceiveProps(e){var t=e.rowData;t&&t!==this.props.rowData&&t.range&&t.range.type&&this.setState({rangeValue:t&&t.range&&t.range.type,snData:"sn"===t.range.type?t.range.value:void 0})}}function O(e){var t=e.app;return{app:t}}var P=(0,f.connect)(O)(s.default.create()(S));t.default=P},u2eV:function(e,t,a){"use strict";var r=a("mZ4U");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=p(a("xwgP"));a("OmhE");var l=r(a("r8hw"));a("NWD0");var i=r(a("2L3m"));a("4ADO");var o=r(a("wty1"));a("SMEU");var s=r(a("xc0u")),d=a("8ur3"),u=a("pG04"),c=r(a("aP11"));function f(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(f=function(e){return e?a:t})(e)}function p(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=f(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=n?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(r,l,i):r[l]=e[l]}return r.default=e,a&&a.set(e,r),r}class h extends n.Component{constructor(e){var t;super(e),t=this,this.getFilterItems=(()=>{var e=this.props.strategyId;return[{text:"\u72b6\u6001",name:"status",type:"select",allowClear:!0,style:{width:120},options:[{text:"\u5168\u90e8",value:null},{text:"\u672a\u5f00\u59cb",value:"WAITING"},{text:"\u8fdb\u884c\u4e2d",value:"HANDLE"},{text:"\u5df2\u53d6\u6d88",value:"CANCELED"},{text:"\u5df2\u5b8c\u6210",value:"COMPLETED"},{text:"\u5df2\u5931\u8d25",value:"FAILED"}]},{text:"\u8bbe\u5907",name:"sn",type:"input"},{text:"",name:"id",type:"hide",value:e}]}),this.refersh=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,n=t.props.dispatch;n({type:"devstrategy/queryProgress",payload:{filter:e,pageNo:a,pageSize:r}})},this.render=(()=>{var e=this.props,t=e.loading,a=e.backFunc,r=e.devstrategy;return n.default.createElement("div",null,n.default.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between"}},n.default.createElement("span",{style:{fontSize:16,fontWeight:"bold",color:"#333",marginBottom:25,lineHeight:"32px"}},"\u914d\u7f6e\u4e0b\u53d1\u8be6\u60c5"),n.default.createElement(s.default,{type:"primary",onClick:a},"\u8fd4\u56de")),n.default.createElement(i.default,null,n.default.createElement(o.default,{span:6},n.default.createElement("div",{style:{fontSize:16,color:"#333",textAlign:"center",marginTop:50}},"\u914d\u7f6e\u6210\u529f\u7387"),n.default.createElement("div",{style:{position:"relative",width:90,height:90,margin:"40px auto"}},n.default.createElement(c.default,{color:"#13c2c2",finishColor:"#000",percent:0===r.finishCount?0:parseInt(r.finishCount/r.configCount*100,10)}),n.default.createElement("div",{style:{position:"absolute",top:33,left:0,zIndex:9999,width:"100%",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"}},n.default.createElement("span",{style:{fontSize:24,color:"#13c2c2",fontWeight:"bold"}},0===r.finishCount?0:parseInt(r.finishCount/r.configCount*100,10)),n.default.createElement("span",{style:{fontSize:12,color:"#13c2c2"}},"%"))),n.default.createElement("div",{style:{display:"flex",flexDirection:"column"}},n.default.createElement("div",{style:{fontSize:16,color:"#333",textAlign:"center",marginBottom:15}},"\u4e0b\u53d1\u6570\u91cf: ",r.configCount,"\u53f0"),n.default.createElement("div",{style:{fontSize:16,color:"#333",textAlign:"center",marginBottom:15}},"\u5df2\u4e0b\u53d1\u6570\u91cf: ",r.finishCount,"\u53f0"))),n.default.createElement(o.default,{span:18},n.default.createElement(u.Grid,{formprop:{initNums:3},filterInline:!0,filterItems:this.getFilterItems(),columns:this.columns,loading:t,data:r.progress,refersh:this.refersh}))))}),this.state={showTab:"strategy"},this.columns=[{title:"\u72b6\u6001",dataIndex:"status",render:t=>{return"HANDLE"===t?"\u8fdb\u884c\u4e2d":"PREPARE"===t?"\u51c6\u5907\u4e2d":"CANCELED"===t?"\u5df2\u53d6\u6d88":"COMPLETED"===t?"\u5df2\u5b8c\u6210":"FAILED"===t?"HANDLE"===e.configState?"\u5df2\u5931\u8d25(\u91cd\u65b0\u4e0b\u53d1\u4e2d...)":"\u5df2\u5931\u8d25":void 0}},{title:"\u8bbe\u5907\u5e8f\u5217\u53f7",dataIndex:"sn"},{title:"\u8fdb\u5ea6",dataIndex:"percent",render:(e,t)=>{var a=t.status;return"CANCELED"===a||"FAILED"===a?n.default.createElement(l.default,{percent:e,strokeColor:"#f76260",status:"exception"}):n.default.createElement(l.default,{percent:e,strokeColor:"#13c2c2"})}}]}}function g(e){var t=e.devstrategy,a=e.loading;return{devstrategy:t,loading:a.models.devstrategy}}var m=(0,d.connect)(g)(h);t.default=m}}]);